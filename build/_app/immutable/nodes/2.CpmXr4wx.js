import{p as Da,t as ie,a as ee,c as wa,d as _a}from"../chunks/CXtEsVtf.js";import{i as Nt}from"../chunks/DjrF-H8s.js";import{a4 as Aa,b as Oa,O as jt,h as Y,a5 as Sa,K as Ca,m as A,V as Ra,M as La,N as Fr,P as Xe,c as ze,ai as Na,Q as In,a as Dn,R as xa,at as Yt,am as wn,a9 as _n,H as kr,au as Br,a0 as Pa,C as Ur,i as Ma,av as Tr,aw as Va,al as Fa,ax as ka,d as Ba,ay as br,az as Ua,ag as Ha,aA as An,aB as Ga,ao as ir,g as On,ap as Sn,o as $a,aC as Wa,aD as za,aE as ja,J as Ya,aF as Za,aG as qa,aH as Ka,n as je,aI as Xa,ar as Ja,j as Qa,p as Ve,aq as Cn,F as Fe,u as ei,aJ as ti,aK as ri,t as nt,x as Z,z as ce,y as U,v as ke,w as at,s as Ir,aL as Rn,aM as Zt}from"../chunks/m5aDqLZk.js";import{a as ni,i as ai,c as ii,d as Dr,b as oi,n as si,e as ui,l as li,s as wr,f as ye}from"../chunks/BQRMufNN.js";import{o as Ln,a as di,c as ci}from"../chunks/CqXQ1G9f.js";import{a as or,p as P,i as sr,r as fi}from"../chunks/Nfehh92T.js";import{s as gi}from"../chunks/HesoKzD1.js";let vt=null;function vi(e,t,r,n){for(var a=[],i=t.length,o=0;o<i;o++)Va(t[o].e,a,!0);var s=i>0&&a.length===0&&r!==null;if(s){var d=r.parentNode;Fa(d),d.append(r),n.clear(),pe(e,t[0].prev,t[i-1].next)}ka(a,()=>{for(var c=0;c<i;c++){var u=t[c];s||(n.delete(u.k),pe(e,u.prev,u.next)),Ba(u.e,!s)}})}function _r(e,t,r,n,a,i=null){var o=e,s={flags:t,items:new Map,first:null},d=(t&An)!==0;if(d){var c=e;o=Y?jt(Sa(c)):c.appendChild(Aa())}Y&&Ca();var u=null,g=!1,l=Ra(()=>{var h=r();return Ma(h)?h:h==null?[]:wn(h)});Oa(()=>{var h=A(l),E=h.length;if(g&&E===0)return;g=E===0;let T=!1;if(Y){var I=o.data===La;I!==(E===0)&&(o=Fr(),jt(o),Xe(!1),T=!0)}if(Y){for(var f=null,p,m=0;m<E;m++){if(ze.nodeType===8&&ze.data===Na){o=ze,T=!0,Xe(!1);break}var v=h[m],y=n(v,m);p=Nn(ze,s,f,null,v,y,m,a,t,r),s.items.set(y,p),f=p}E>0&&jt(Fr())}Y||hi(h,s,o,a,t,n,r),i!==null&&(E===0?u?In(u):u=Dn(()=>i(o)):u!==null&&xa(u,()=>{u=null})),T&&Xe(!0),A(l)}),Y&&(o=ze)}function hi(e,t,r,n,a,i,o){var R,x,M,N;var s=(a&Ga)!==0,d=(a&(br|Tr))!==0,c=e.length,u=t.items,g=t.first,l=g,h,E=null,T,I=[],f=[],p,m,v,y;if(s)for(y=0;y<c;y+=1)p=e[y],m=i(p,y),v=u.get(m),v!==void 0&&((R=v.a)==null||R.measure(),(T??(T=new Set)).add(v));for(y=0;y<c;y+=1){if(p=e[y],m=i(p,y),v=u.get(m),v===void 0){var b=l?l.e.nodes_start:r;E=Nn(b,t,E,E===null?t.first:E.next,p,m,y,n,a,o),u.set(m,E),I=[],f=[],l=E.next;continue}if(d&&pi(v,p,y,a),(v.e.f&Yt)!==0&&(In(v.e),s&&((x=v.a)==null||x.unfix(),(T??(T=new Set)).delete(v))),v!==l){if(h!==void 0&&h.has(v)){if(I.length<f.length){var _=f[0],O;E=_.prev;var D=I[0],w=I[I.length-1];for(O=0;O<I.length;O+=1)Hr(I[O],_,r);for(O=0;O<f.length;O+=1)h.delete(f[O]);pe(t,D.prev,w.next),pe(t,E,D),pe(t,w,_),l=_,E=w,y-=1,I=[],f=[]}else h.delete(v),Hr(v,l,r),pe(t,v.prev,v.next),pe(t,v,E===null?t.first:E.next),pe(t,E,v),E=v;continue}for(I=[],f=[];l!==null&&l.k!==m;)(l.e.f&Yt)===0&&(h??(h=new Set)).add(l),f.push(l),l=l.next;if(l===null)continue;v=l}I.push(v),E=v,l=v.next}if(l!==null||h!==void 0){for(var S=h===void 0?[]:wn(h);l!==null;)(l.e.f&Yt)===0&&S.push(l),l=l.next;var C=S.length;if(C>0){var L=(a&An)!==0&&c===0?r:null;if(s){for(y=0;y<C;y+=1)(M=S[y].a)==null||M.measure();for(y=0;y<C;y+=1)(N=S[y].a)==null||N.fix()}vi(t,S,L,u)}}s&&_n(()=>{var oe;if(T!==void 0)for(v of T)(oe=v.a)==null||oe.apply()}),kr.first=t.first&&t.first.e,kr.last=E&&E.e}function pi(e,t,r,n){(n&br)!==0&&Br(e.v,t),(n&Tr)!==0?Br(e.i,r):e.i=r}function Nn(e,t,r,n,a,i,o,s,d,c){var u=vt,g=(d&br)!==0,l=(d&Ua)===0,h=g?l?Pa(a):Ur(a):a,E=(d&Tr)===0?o:Ur(o),T={i:E,v:h,k:i,a:null,e:null,prev:r,next:n};vt=T;try{return T.e=Dn(()=>s(e,h,E,c),Y),T.e.prev=r&&r.e,T.e.next=n&&n.e,r===null?t.first=T:(r.next=T,r.e.next=T.e),n!==null&&(n.prev=T,n.e.prev=T.e),T}finally{vt=u}}function Hr(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,a=t?t.e.nodes_start:r,i=e.e.nodes_start;i!==n;){var o=Ha(i);a.before(i),i=o}}function pe(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function mi(e,t,r){ir(()=>{var n=On(()=>t(e,r==null?void 0:r())||{});if(r&&(n!=null&&n.update)){var a=!1,i={};Sn(()=>{var o=r();$a(o),a&&Wa(i,o)&&(i=o,n.update(o))}),a=!0}if(n!=null&&n.destroy)return()=>n.destroy()})}function xn(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=xn(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ei(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=xn(e))&&(n&&(n+=" "),n+=t);return n}function yi(e){return typeof e=="object"?Ei(e):e??""}const Gr=[...` 	
\r\fÂ \v\uFEFF`];function Ti(e,t,r){var n=e==null?"":""+e;if(r){for(var a in r)if(r[a])n=n?n+" "+a:a;else if(n.length)for(var i=a.length,o=0;(o=n.indexOf(a,o))>=0;){var s=o+i;(o===0||Gr.includes(n[o-1]))&&(s===n.length||Gr.includes(n[s]))?n=(o===0?"":n.substring(0,o))+n.substring(s+1):o=s}}return n===""?null:n}function $r(e,t=!1){var r=t?" !important;":";",n="";for(var a in e){var i=e[a];i!=null&&i!==""&&(n+=" "+a+": "+i+r)}return n}function qt(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function bi(e,t){if(t){var r="",n,a;if(Array.isArray(t)?(n=t[0],a=t[1]):n=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,o=0,s=!1,d=[];n&&d.push(...Object.keys(n).map(qt)),a&&d.push(...Object.keys(a).map(qt));var c=0,u=-1;const T=e.length;for(var g=0;g<T;g++){var l=e[g];if(s?l==="/"&&e[g-1]==="*"&&(s=!1):i?i===l&&(i=!1):l==="/"&&e[g+1]==="*"?s=!0:l==='"'||l==="'"?i=l:l==="("?o++:l===")"&&o--,!s&&i===!1&&o===0){if(l===":"&&u===-1)u=g;else if(l===";"||g===T-1){if(u!==-1){var h=qt(e.substring(c,u).trim());if(!d.includes(h)){l!==";"&&g++;var E=e.substring(c,g).trim();r+=" "+E+";"}}c=g+1,u=-1}}}}return n&&(r+=$r(n)),a&&(r+=$r(a,!0)),r=r.trim(),r===""?null:r}return e==null?null:String(e)}function Ar(e,t,r,n,a,i){var o=e.__className;if(Y||o!==r){var s=Ti(r,n,i);(!Y||s!==e.getAttribute("class"))&&(s==null?e.removeAttribute("class"):t?e.className=s:e.setAttribute("class",s)),e.__className=r}else if(i&&a!==i)for(var d in i){var c=!!i[d];(a==null||c!==!!a[d])&&e.classList.toggle(d,c)}return i}function Kt(e,t={},r,n){for(var a in r){var i=r[a];t[a]!==i&&(r[a]==null?e.style.removeProperty(a):e.style.setProperty(a,i,n))}}function Ii(e,t,r,n){var a=e.__style;if(Y||a!==t){var i=bi(t,n);(!Y||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=t}else n&&(Array.isArray(n)?(Kt(e,r==null?void 0:r[0],n[0]),Kt(e,r==null?void 0:r[1],n[1],"important")):Kt(e,r,n));return n}const Ye=Symbol("class"),Oe=Symbol("style"),Pn=Symbol("is custom element"),Mn=Symbol("is html");function Et(e){if(Y){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var n=e.value;yt(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var a=e.checked;yt(e,"checked",null),e.checked=a}}};e.__on_r=r,za(r),ni()}}function Di(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function yt(e,t,r,n){var a=Vn(e);Y&&(a[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||a[t]!==(a[t]=r)&&(t==="loading"&&(e[Za]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Fn(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function Ne(e,t,r,n,a=!1){var i=Vn(e),o=i[Pn],s=!i[Mn];let d=Y&&o;d&&Xe(!1);var c=t||{},u=e.tagName==="OPTION";for(var g in t)g in r||(r[g]=null);r.class?r.class=yi(r.class):r[Ye]&&(r.class=null),r[Oe]&&(r.style??(r.style=null));var l=Fn(e);for(const m in r){let v=r[m];if(u&&m==="value"&&v==null){e.value=e.__value="",c[m]=v;continue}if(m==="class"){var h=e.namespaceURI==="http://www.w3.org/1999/xhtml";Ar(e,h,v,n,t==null?void 0:t[Ye],r[Ye]),c[m]=v,c[Ye]=r[Ye];continue}if(m==="style"){Ii(e,v,t==null?void 0:t[Oe],r[Oe]),c[m]=v,c[Oe]=r[Oe];continue}var E=c[m];if(v!==E){c[m]=v;var T=m[0]+m[1];if(T!=="$$")if(T==="on"){const y={},b="$$"+m;let _=m.slice(2);var I=ui(_);if(ai(_)&&(_=_.slice(0,-7),y.capture=!0),!I&&E){if(v!=null)continue;e.removeEventListener(_,c[b],y),c[b]=null}if(v!=null)if(I)e[`__${_}`]=v,Dr([_]);else{let O=function(D){c[m].call(this,D)};c[b]=ii(_,e,O,y)}else I&&(e[`__${_}`]=void 0)}else if(m==="style")yt(e,m,v);else if(m==="autofocus")oi(e,!!v);else if(!o&&(m==="__value"||m==="value"&&v!=null))e.value=e.__value=v;else if(m==="selected"&&u)Di(e,v);else{var f=m;s||(f=si(f));var p=f==="defaultValue"||f==="defaultChecked";if(v==null&&!o&&!p)if(i[m]=null,f==="value"||f==="checked"){let y=e;const b=t===void 0;if(f==="value"){let _=y.defaultValue;y.removeAttribute(f),y.defaultValue=_,y.value=y.__value=b?_:null}else{let _=y.defaultChecked;y.removeAttribute(f),y.defaultChecked=_,y.checked=b?_:!1}}else e.removeAttribute(m);else p||l.includes(f)&&(o||typeof v!="string")?e[f]=v:typeof v!="function"&&yt(e,f,v)}}}return d&&Xe(!0),c}function Vn(e){return e.__attributes??(e.__attributes={[Pn]:e.nodeName.includes("-"),[Mn]:e.namespaceURI===ja})}var Wr=new Map;function Fn(e){var t=Wr.get(e.nodeName);if(t)return t;Wr.set(e.nodeName,t=[]);for(var r,n=e,a=Element.prototype;a!==n;){r=qa(n);for(var i in r)r[i].set&&t.push(i);n=Ya(n)}return t}const wi=()=>performance.now(),ve={tick:e=>requestAnimationFrame(e),now:()=>wi(),tasks:new Set};function kn(){const e=ve.now();ve.tasks.forEach(t=>{t.c(e)||(ve.tasks.delete(t),t.f())}),ve.tasks.size!==0&&ve.tick(kn)}function _i(e){let t;return ve.tasks.size===0&&ve.tick(kn),{promise:new Promise(r=>{ve.tasks.add(t={c:e,f:r})}),abort(){ve.tasks.delete(t)}}}function Ai(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function zr(e){const t={},r=e.split(";");for(const n of r){const[a,i]=n.split(":");if(!a||i===void 0)break;const o=Ai(a.trim());t[o]=i.trim()}return t}const Oi=e=>e;function Bn(e,t,r){var n=vt,a,i,o,s=null;n.a??(n.a={element:e,measure(){a=this.element.getBoundingClientRect()},apply(){if(o==null||o.abort(),i=this.element.getBoundingClientRect(),a.left!==i.left||a.right!==i.right||a.top!==i.top||a.bottom!==i.bottom){const d=t()(this.element,{from:a,to:i},r==null?void 0:r());o=Un(this.element,d,void 0,1,()=>{o==null||o.abort(),o=void 0})}},fix(){if(!e.getAnimations().length){var{position:d,width:c,height:u}=getComputedStyle(e);if(d!=="absolute"&&d!=="fixed"){var g=e.style;s={position:g.position,width:g.width,height:g.height,transform:g.transform},g.position="absolute",g.width=c,g.height=u;var l=e.getBoundingClientRect();if(a.left!==l.left||a.top!==l.top){var h=`translate(${a.left-l.left}px, ${a.top-l.top}px)`;g.transform=g.transform?`${g.transform} ${h}`:h}}}},unfix(){if(s){var d=e.style;d.position=s.position,d.width=s.width,d.height=s.height,d.transform=s.transform}}}),n.a.element=e}function Un(e,t,r,n,a){if(Ka(t)){var i,o=!1;return _n(()=>{if(!o){var T=t({direction:"in"});i=Un(e,T,r,n,a)}}),{abort:()=>{o=!0,i==null||i.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(!(t!=null&&t.duration))return a(),{abort:je,deactivate:je,reset:je,t:()=>n};const{delay:s=0,css:d,tick:c,easing:u=Oi}=t;var g=[];if(c&&c(0,1),d){var l=zr(d(0,1));g.push(l,l)}var h=()=>1-n,E=e.animate(g,{duration:s});return E.onfinish=()=>{var T=1-n,I=n-T,f=t.duration*Math.abs(I),p=[];if(f>0){var m=!1;if(d)for(var v=Math.ceil(f/16.666666666666668),y=0;y<=v;y+=1){var b=T+I*u(y/v),_=zr(d(b,1-b));p.push(_),m||(m=_.overflow==="hidden")}m&&(e.style.overflow="hidden"),h=()=>{var O=E.currentTime;return T+I*u(O/f)},c&&_i(()=>{if(E.playState!=="running")return!1;var O=h();return c(O,1-O),!0})}E=e.animate(p,{duration:f,fill:"forwards"}),E.onfinish=()=>{h=()=>n,c==null||c(n,1-n),a()}},{abort:()=>{E&&(E.cancel(),E.effect=null,E.onfinish=je)},deactivate:()=>{a=je},reset:()=>{},t:()=>h()}}function jr(e,t,r=t){var n=Xa();li(e,"input",a=>{var i=a?e.defaultValue:e.value;if(i=Xt(e)?Jt(i):i,r(i),n&&i!==(i=t())){var o=e.selectionStart,s=e.selectionEnd;e.value=i??"",s!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(s,e.value.length))}}),(Y&&e.defaultValue!==e.value||On(t)==null&&e.value)&&r(Xt(e)?Jt(e.value):e.value),Sn(()=>{var a=t();Xt(e)&&a===Jt(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Xt(e){var t=e.type;return t==="number"||t==="range"}function Jt(e){return e===""?null:+e}function Si(e){const t=e-1;return t*t*t+1}function Hn(e,{from:t,to:r},n={}){var{delay:a=0,duration:i=b=>Math.sqrt(b)*120,easing:o=Si}=n,s=getComputedStyle(e),d=s.transform==="none"?"":s.transform,[c,u]=s.transformOrigin.split(" ").map(parseFloat);c/=e.clientWidth,u/=e.clientHeight;var g=Ci(e),l=e.clientWidth/r.width/g,h=e.clientHeight/r.height/g,E=t.left+t.width*c,T=t.top+t.height*u,I=r.left+r.width*c,f=r.top+r.height*u,p=(E-I)*l,m=(T-f)*h,v=t.width/r.width,y=t.height/r.height;return{delay:a,duration:typeof i=="function"?i(Math.sqrt(p*p+m*m)):i,easing:o,css:(b,_)=>{var O=_*p,D=_*m,w=b+_*v,S=b+_*y;return`transform: ${d} translate(${O}px, ${D}px) scale(${w}, ${S});`}}}function Ci(e){if("currentCSSZoom"in e)return e.currentCSSZoom;for(var t=e,r=1;t!==null;)r*=+getComputedStyle(t).zoom,t=t.parentElement;return r}function Yr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yr(Object(r),!0).forEach(function(n){He(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Je(e){"@babel/helpers - typeof";return Je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Je(e)}function He(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ri(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Li(e,t){if(e==null)return{};var r=Ri(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ni(e,t){return Pi(e)||Vi(e,t)||Or(e,t)||ki()}function re(e){return xi(e)||Mi(e)||Or(e)||Fi()}function xi(e){if(Array.isArray(e))return ur(e)}function Pi(e){if(Array.isArray(e))return e}function Mi(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vi(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,o,s;try{for(r=r.call(e);!(a=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));a=!0);}catch(d){i=!0,s=d}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw s}}return n}}function Or(e,t){if(e){if(typeof e=="string")return ur(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ur(e,t)}}function ur(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fi(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ki(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function it(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Or(e))||t){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(d){throw d},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,o=!1,s;return{s:function(){r=r.call(e)},n:function(){var d=r.next();return i=d.done,d},e:function(d){o=!0,s=d},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(o)throw s}}}}var Bi="finalize",Ui="consider";function Ge(e,t,r){e.dispatchEvent(new CustomEvent(Bi,{detail:{items:t,info:r}}))}function Ie(e,t,r){e.dispatchEvent(new CustomEvent(Ui,{detail:{items:t,info:r}}))}var xt="draggedEntered",ot="draggedLeft",Pt="draggedOverIndex",Sr="draggedLeftDocument",bt={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function Hi(e,t,r){e.dispatchEvent(new CustomEvent(xt,{detail:{indexObj:t,draggedEl:r}}))}function Gi(e,t,r){e.dispatchEvent(new CustomEvent(ot,{detail:{draggedEl:t,type:bt.LEFT_FOR_ANOTHER,theOtherDz:r}}))}function $i(e,t){e.dispatchEvent(new CustomEvent(ot,{detail:{draggedEl:t,type:bt.OUTSIDE_OF_ANY}}))}function Wi(e,t,r){e.dispatchEvent(new CustomEvent(Pt,{detail:{indexObj:t,draggedEl:r}}))}function zi(e){window.dispatchEvent(new CustomEvent(Sr,{detail:{draggedEl:e}}))}var q={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:xt,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:Pt,DRAGGED_LEFT:ot,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},X={POINTER:"pointer",KEYBOARD:"keyboard"},Mt="isDndShadowItem",Vt="data-is-dnd-shadow-item-internal",ji="data-is-dnd-shadow-item-hint",Yi="id:dnd-shadow-placeholder-0000",Zi="dnd-action-dragged-el",H="id",lr=0;function Gn(){lr++}function $n(){if(lr===0)throw new Error("Bug! trying to decrement when there are no dropzones");lr--}var Cr=typeof window>"u";function dr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r,n=t?Ji(e):e.getBoundingClientRect(),a=getComputedStyle(e),i=a.transform;if(i){var o,s,d,c;if(i.startsWith("matrix3d("))r=i.slice(9,-1).split(/, /),o=+r[0],s=+r[5],d=+r[12],c=+r[13];else if(i.startsWith("matrix("))r=i.slice(7,-1).split(/, /),o=+r[0],s=+r[3],d=+r[4],c=+r[5];else return n;var u=a.transformOrigin,g=n.x-d-(1-o)*parseFloat(u),l=n.y-c-(1-s)*parseFloat(u.slice(u.indexOf(" ")+1)),h=o?n.width/o:e.offsetWidth,E=s?n.height/s:e.offsetHeight;return{x:g,y:l,width:h,height:E,top:l,right:g+h,bottom:l+E,left:g}}else return n}function Wn(e){var t=dr(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function zn(e){var t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function jn(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function qi(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ft(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function et(e){return jn(zn(e))}function Zr(e,t){var r=et(e),n=Wn(t);return Ft(r,n)}function Ki(e,t){var r=et(e),n=et(t);return qi(r,n)}function Xi(e){var t=zn(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}function Ji(e){for(var t=e.getBoundingClientRect(),r={top:t.top,bottom:t.bottom,left:t.left,right:t.right},n=e.parentElement;n&&n!==document.body;){var a=n.getBoundingClientRect(),i=window.getComputedStyle(n).overflowY,o=window.getComputedStyle(n).overflowX,s=i==="scroll"||i==="auto",d=o==="scroll"||o==="auto";s&&(r.top=Math.max(r.top,a.top),r.bottom=Math.min(r.bottom,a.bottom)),d&&(r.left=Math.max(r.left,a.left),r.right=Math.min(r.right,a.right)),n=n.parentElement}return r.top=Math.max(r.top,0),r.bottom=Math.min(r.bottom,window.innerHeight),r.left=Math.max(r.left,0),r.right=Math.min(r.right,window.innerWidth),{top:r.top,bottom:r.bottom,left:r.left,right:r.right,width:Math.max(0,r.right-r.left),height:Math.max(0,r.bottom-r.top)}}var Be;function Rr(){Be=new Map}Rr();function Qi(e){var t=Array.from(e.children).findIndex(function(r){return r.getAttribute(Vt)});if(t>=0)return Be.has(e)||Be.set(e,new Map),Be.get(e).set(t,Wn(e.children[t])),t}function eo(e,t){if(!Zr(e,t))return null;var r=t.children;if(r.length===0)return{index:0,isProximityBased:!0};for(var n=Qi(t),a=0;a<r.length;a++)if(Zr(e,r[a])){var i=Be.has(t)&&Be.get(t).get(a);return i&&!Ft(et(e),i)?{index:n,isProximityBased:!1}:{index:a,isProximityBased:!1}}for(var o=Number.MAX_VALUE,s=void 0,d=0;d<r.length;d++){var c=Ki(e,r[d]);c<o&&(o=c,s=d)}return{index:s,isProximityBased:!0}}function dt(e){return JSON.stringify(e,null,2)}function It(e){if(!e)throw new Error("cannot get depth of a falsy node");return Yn(e,0)}function Yn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.parentElement?Yn(e.parentElement,t+1):t-1}function to(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!{}.hasOwnProperty.call(t,r)||t[r]!==e[r])return!1;return!0}function ro(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var no=200,qr=10,cr;function ao(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:no,n=arguments.length>3?arguments[3]:void 0,a,i,o=!1,s,d=Array.from(t).sort(function(u,g){return It(g)-It(u)});function c(){var u=et(e),g=n.multiScrollIfNeeded();if(!g&&s&&Math.abs(s.x-u.x)<qr&&Math.abs(s.y-u.y)<qr){cr=window.setTimeout(c,r);return}if(Xi(e)){zi(e);return}s=u;var l=!1,h=it(d),E;try{for(h.s();!(E=h.n()).done;){var T=E.value;g&&Rr();var I=eo(e,T);if(I!==null){var f=I.index;l=!0,T!==a?(a&&Gi(a,e,T),Hi(T,I,e),a=T):f!==i&&(Wi(T,I,e),i=f);break}}}catch(p){h.e(p)}finally{h.f()}!l&&o&&a?($i(a,e),a=void 0,i=void 0,o=!1):o=!0,cr=window.setTimeout(c,r)}c()}function io(){clearTimeout(cr),Rr()}var Ze=30;function oo(){var e;function t(){e={directionObj:void 0,stepPx:0}}t();function r(i){var o=e,s=o.directionObj,d=o.stepPx;s&&(i.scrollBy(s.x*d,s.y*d),window.requestAnimationFrame(function(){return r(i)}))}function n(i){return Ze-i}function a(i,o){if(!o)return!1;var s=so(i,o),d=!!e.directionObj;if(s===null)return d&&t(),!1;var c=!1,u=!1;return o.scrollHeight>o.clientHeight&&(s.bottom<Ze?(c=!0,e.directionObj={x:0,y:1},e.stepPx=n(s.bottom)):s.top<Ze&&(c=!0,e.directionObj={x:0,y:-1},e.stepPx=n(s.top)),!d&&c)||o.scrollWidth>o.clientWidth&&(s.right<Ze?(u=!0,e.directionObj={x:1,y:0},e.stepPx=n(s.right)):s.left<Ze&&(u=!0,e.directionObj={x:-1,y:0},e.stepPx=n(s.left)),!d&&u)?(r(o),!0):(t(),!1)}return{scrollIfNeeded:a,resetScrolling:t}}function so(e,t){var r=t===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:t.getBoundingClientRect();return Ft(e,r)?{top:e.y-r.top,bottom:r.bottom-e.y,left:e.x-r.left,right:r.right-e.x}:null}function uo(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=co(e),n=Array.from(r).sort(function(d,c){return It(c)-It(d)}),a=oo(),i=a.scrollIfNeeded,o=a.resetScrolling;function s(){var d=t();if(!d||!n)return!1;for(var c=n.filter(function(l){return Ft(d,l.getBoundingClientRect())||l===document.scrollingElement}),u=0;u<c.length;u++){var g=i(d,c[u]);if(g)return!0}return!1}return{multiScrollIfNeeded:r.size>0?s:function(){return!1},destroy:function(){return o()}}}function lo(e){if(!e)return[];for(var t=[],r=e;r;){var n=window.getComputedStyle(r),a=n.overflow;a.split(" ").some(function(i){return i.includes("auto")||i.includes("scroll")})&&t.push(r),r=r.parentElement}return t}function co(e){var t=new Set,r=it(e),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;lo(a).forEach(function(i){return t.add(i)})}}catch(i){r.e(i)}finally{r.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&t.add(document.scrollingElement),t}function fo(e){var t=e.cloneNode(!0),r=[],n=e.tagName==="SELECT",a=n?[e]:re(e.querySelectorAll("select")),i=it(a),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;r.push(s.value)}}catch(m){i.e(m)}finally{i.f()}if(a.length>0)for(var d=n?[t]:re(t.querySelectorAll("select")),c=0;c<d.length;c++){var u=d[c],g=r[c],l=u.querySelector('option[value="'.concat(g,'"'));l&&l.setAttribute("selected",!0)}var h=e.tagName==="CANVAS",E=h?[e]:re(e.querySelectorAll("canvas"));if(E.length>0)for(var T=h?[t]:re(t.querySelectorAll("canvas")),I=0;I<T.length;I++){var f=E[I],p=T[I];p.width=f.width,p.height=f.height,f.width>0&&f.height>0&&p.getContext("2d").drawImage(f,0,0)}return t}var tt=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),go=He({},tt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function Zn(e){if(!tt[e])throw new Error("Can't get non existing feature flag ".concat(e,"! Supported flags: ").concat(Object.keys(tt)));return go[e]}var vo=.2;function _e(e){return"".concat(e," ").concat(vo,"s ease")}function ho(e,t){var r=e.getBoundingClientRect(),n=fo(e);qn(e,n),n.id=Zi,n.style.position="fixed";var a=r.top,i=r.left;if(n.style.top="".concat(a,"px"),n.style.left="".concat(i,"px"),t){var o=jn(r);a-=o.y-t.y,i-=o.x-t.x,window.setTimeout(function(){n.style.top="".concat(a,"px"),n.style.left="".concat(i,"px")},0)}return n.style.margin="0",n.style.boxSizing="border-box",n.style.height="".concat(r.height,"px"),n.style.width="".concat(r.width,"px"),n.style.transition="".concat(_e("top"),", ").concat(_e("left"),", ").concat(_e("background-color"),", ").concat(_e("opacity"),", ").concat(_e("color")," "),window.setTimeout(function(){return n.style.transition+=", ".concat(_e("width"),", ").concat(_e("height"))},0),n.style.zIndex="9999",n.style.cursor="grabbing",n}function po(e){e.style.cursor="grab"}function mo(e,t,r,n){qn(t,e);var a=t.getBoundingClientRect(),i=e.getBoundingClientRect(),o=a.width-i.width,s=a.height-i.height;if(o||s){var d={left:(r-i.left)/i.width,top:(n-i.top)/i.height};Zn(tt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height="".concat(a.height,"px"),e.style.width="".concat(a.width,"px")),e.style.left="".concat(parseFloat(e.style.left)-d.left*o,"px"),e.style.top="".concat(parseFloat(e.style.top)-d.top*s,"px")}}function qn(e,t){var r=window.getComputedStyle(e);Array.from(r).filter(function(n){return n.startsWith("background")||n.startsWith("padding")||n.startsWith("font")||n.startsWith("text")||n.startsWith("align")||n.startsWith("justify")||n.startsWith("display")||n.startsWith("flex")||n.startsWith("border")||n==="opacity"||n==="color"||n==="list-style-type"||Zn(tt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(n==="width"||n==="height")}).forEach(function(n){return t.style.setProperty(n,r.getPropertyValue(n),r.getPropertyPriority(n))})}function Eo(e,t){e.draggable=!1,e.ondragstart=function(){return!1},t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function Kn(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function yo(e){e.style.visibility="hidden",e.setAttribute(Vt,"true")}function To(e){e.style.visibility="",e.removeAttribute(Vt)}function ht(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(n){var a=t(n);Object.keys(a).forEach(function(i){n.style[i]=a[i]}),r(n).forEach(function(i){return n.classList.add(i)})})}function Dt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(n){var a=t(n);Object.keys(a).forEach(function(i){n.style[i]=""}),r(n).forEach(function(i){return n.classList.contains(i)&&n.classList.remove(i)})})}function bo(e){var t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");var r=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=r}}var Io="--any--",Do=100,wo=20,Kr=3,Xr={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Jr="data-is-dnd-original-dragged-item",ue,W,K,kt,V,Bt,be,$,Ee,Q,me=!1,Lr=!1,Nr,st=!1,pt=[],Qe,ae=new Map,F=new Map,Qt=new WeakMap;function _o(e,t){ae.has(t)||ae.set(t,new Set),ae.get(t).has(e)||(ae.get(t).add(e),Gn())}function Qr(e,t){ae.get(t).delete(e),$n(),ae.get(t).size===0&&ae.delete(t)}function Ao(){var e=ae.get(kt),t=it(e),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;n.addEventListener(xt,Xn),n.addEventListener(ot,Jn),n.addEventListener(Pt,Qn)}}catch(o){t.e(o)}finally{t.f()}window.addEventListener(Sr,$e);var a=Math.max.apply(Math,re(Array.from(e.keys()).map(function(o){return F.get(o).dropAnimationDurationMs}))),i=a===0?wo:Math.max(a,Do);Qe=uo(e,function(){return Q}),ao(W,e,i*1.07,Qe)}function Oo(){var e=ae.get(kt),t=it(e),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;n.removeEventListener(xt,Xn),n.removeEventListener(ot,Jn),n.removeEventListener(Pt,Qn)}}catch(a){t.e(a)}finally{t.f()}window.removeEventListener(Sr,$e),Qe&&(Qe.destroy(),Qe=void 0),io()}function Ut(e){return e.findIndex(function(t){return!!t[Mt]})}function So(e){var t;return Tt(Tt({},e),{},(t={},He(t,Mt,!0),He(t,H,Yi),t))}function Xn(e){var t=F.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==V)){if(st=!1,r=r.filter(function(u){return u[H]!==be[H]}),V!==e.currentTarget){var a=F.get(V).items,i=a.filter(function(u){return!u[Mt]});Ie(V,i,{trigger:q.DRAGGED_ENTERED_ANOTHER,id:K[H],source:X.POINTER})}var o=e.detail.indexObj,s=o.index,d=o.isProximityBased,c=d&&s===e.currentTarget.children.length-1?s+1:s;$=e.currentTarget,r.splice(c,0,be),Ie(e.currentTarget,r,{trigger:q.DRAGGED_ENTERED,id:K[H],source:X.POINTER})}}function Jn(e){if(me){var t=F.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==V&&e.currentTarget!==$)){var a=re(r),i=Ut(a);i!==-1&&a.splice(i,1);var o=$;$=void 0;var s=e.detail,d=s.type,c=s.theOtherDz;if(d===bt.OUTSIDE_OF_ANY||d===bt.LEFT_FOR_ANOTHER&&c!==V&&F.get(c).dropFromOthersDisabled){st=!0,$=V;var u=o===V?a:re(F.get(V).items);u.splice(Bt,0,be),Ie(V,u,{trigger:q.DRAGGED_LEFT_ALL,id:K[H],source:X.POINTER})}Ie(e.currentTarget,a,{trigger:q.DRAGGED_LEFT,id:K[H],source:X.POINTER})}}}function Qn(e){var t=F.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==V)){var a=re(r);st=!1;var i=e.detail.indexObj.index,o=Ut(a);o!==-1&&a.splice(o,1),a.splice(i,0,be),Ie(e.currentTarget,a,{trigger:q.DRAGGED_OVER_INDEX,id:K[H],source:X.POINTER})}}function wt(e){e.preventDefault();var t=e.touches?e.touches[0]:e;Q={x:t.clientX,y:t.clientY},W.style.transform="translate3d(".concat(Q.x-Ee.x,"px, ").concat(Q.y-Ee.y,"px, 0)")}function $e(){Lr=!0,window.removeEventListener("mousemove",wt),window.removeEventListener("touchmove",wt),window.removeEventListener("mouseup",$e),window.removeEventListener("touchend",$e),Oo(),po(W),$||($=V);var e=F.get($),t=e.items,r=e.type;Dt(ae.get(r),function(i){return F.get(i).dropTargetStyle},function(i){return F.get(i).dropTargetClasses});var n=Ut(t);n===-1&&$===V&&(n=Bt),t=t.map(function(i){return i[Mt]?K:i});function a(){Nr(),Ge($,t,{trigger:st?q.DROPPED_OUTSIDE_OF_ANY:q.DROPPED_INTO_ZONE,id:K[H],source:X.POINTER}),$!==V&&Ge(V,F.get(V).items,{trigger:q.DROPPED_INTO_ANOTHER,id:K[H],source:X.POINTER});var i=Array.from($.children).find(function(o){return o.getAttribute(Vt)});i&&To(i),Lo()}F.get($).dropAnimationDisabled?a():Co(n,a)}function Co(e,t){var r=e>-1?dr($.children[e],!1):dr($,!1),n={x:r.left-parseFloat(W.style.left),y:r.top-parseFloat(W.style.top)},a=F.get($),i=a.dropAnimationDurationMs,o="transform ".concat(i,"ms ease");W.style.transition=W.style.transition?W.style.transition+","+o:o,W.style.transform="translate3d(".concat(n.x,"px, ").concat(n.y,"px, 0)"),window.setTimeout(t,i)}function Ro(e,t){pt.push({dz:e,destroy:t}),window.requestAnimationFrame(function(){Kn(e),document.body.appendChild(e)})}function Lo(){W.remove(),ue.remove(),pt.length&&(pt.forEach(function(e){var t=e.dz,r=e.destroy;r(),t.remove()}),pt=[]),W=void 0,ue=void 0,K=void 0,kt=void 0,V=void 0,Bt=void 0,be=void 0,$=void 0,Ee=void 0,Q=void 0,me=!1,Lr=!1,Nr=void 0,st=!1}function No(e,t){var r=!1,n={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:Xr,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,dropAnimationDisabled:!1},a=new Map;function i(){window.addEventListener("mousemove",d,{passive:!1}),window.addEventListener("touchmove",d,{passive:!1,capture:!1}),window.addEventListener("mouseup",s,{passive:!1}),window.addEventListener("touchend",s,{passive:!1})}function o(){window.removeEventListener("mousemove",d),window.removeEventListener("touchmove",d),window.removeEventListener("mouseup",s),window.removeEventListener("touchend",s)}function s(l){o(),ue=void 0,Ee=void 0,Q=void 0,l.type==="touchend"&&l.target.click()}function d(l){l.preventDefault();var h=l.touches?l.touches[0]:l;Q={x:h.clientX,y:h.clientY},(Math.abs(Q.x-Ee.x)>=Kr||Math.abs(Q.y-Ee.y)>=Kr)&&(o(),u())}function c(l){if(!(l.target!==l.currentTarget&&(l.target.value!==void 0||l.target.isContentEditable))&&!l.button&&!me){l.preventDefault(),l.stopPropagation();var h=l.touches?l.touches[0]:l;Ee={x:h.clientX,y:h.clientY},Q=Tt({},Ee),ue=l.currentTarget,i()}}function u(){me=!0;var l=a.get(ue);Bt=l,V=ue.parentElement;var h=V.closest("dialog")||V.closest("[popover]")||V.getRootNode(),E=h.body||h,T=n.items,I=n.type,f=n.centreDraggedOnCursor,p=re(T);K=p[l],kt=I,be=So(K),W=ho(ue,f&&Q),ue.setAttribute(Jr,!0);function m(){W.parentElement?window.requestAnimationFrame(m):(E.appendChild(W),W.focus(),Ao(),Kn(ue),E.appendChild(ue),be[H]=K[H])}window.requestAnimationFrame(m),ht(Array.from(ae.get(n.type)).filter(function(v){return v===V||!F.get(v).dropFromOthersDisabled}),function(v){return F.get(v).dropTargetStyle},function(v){return F.get(v).dropTargetClasses}),p.splice(l,1,be),Nr=bo(V),Ie(V,p,{trigger:q.DRAG_STARTED,id:K[H],source:X.POINTER}),window.addEventListener("mousemove",wt,{passive:!1}),window.addEventListener("touchmove",wt,{passive:!1,capture:!1}),window.addEventListener("mouseup",$e,{passive:!1}),window.addEventListener("touchend",$e,{passive:!1})}function g(l){var h=l.items,E=h===void 0?void 0:h,T=l.flipDurationMs,I=T===void 0?0:T,f=l.type,p=f===void 0?Io:f,m=l.dragDisabled,v=m===void 0?!1:m,y=l.morphDisabled,b=y===void 0?!1:y,_=l.dropFromOthersDisabled,O=_===void 0?!1:_,D=l.dropTargetStyle,w=D===void 0?Xr:D,S=l.dropTargetClasses,C=S===void 0?[]:S,L=l.transformDraggedElement,R=L===void 0?function(){}:L,x=l.centreDraggedOnCursor,M=x===void 0?!1:x,N=l.dropAnimationDisabled,oe=N===void 0?!1:N;n.dropAnimationDurationMs=I,n.type&&p!==n.type&&Qr(e,n.type),n.type=p,n.items=re(E),n.dragDisabled=v,n.morphDisabled=b,n.transformDraggedElement=R,n.centreDraggedOnCursor=M,n.dropAnimationDisabled=oe,r&&me&&!Lr&&(!to(w,n.dropTargetStyle)||!ro(C,n.dropTargetClasses))&&(Dt([e],function(){return n.dropTargetStyle},function(){return C}),ht([e],function(){return w},function(){return C})),n.dropTargetStyle=w,n.dropTargetClasses=re(C);function fe(J,Re){return F.get(J)?F.get(J)[Re]:n[Re]}r&&me&&n.dropFromOthersDisabled!==O&&(O?Dt([e],function(J){return fe(J,"dropTargetStyle")},function(J){return fe(J,"dropTargetClasses")}):ht([e],function(J){return fe(J,"dropTargetStyle")},function(J){return fe(J,"dropTargetClasses")})),n.dropFromOthersDisabled=O,F.set(e,n),_o(e,p);for(var lt=me?Ut(n.items):-1,ge=0;ge<e.children.length;ge++){var z=e.children[ge];if(Eo(z,v),ge===lt){b||mo(W,z,Q.x,Q.y),n.transformDraggedElement(W,K,ge),yo(z);continue}z.removeEventListener("mousedown",Qt.get(z)),z.removeEventListener("touchstart",Qt.get(z)),v||(z.addEventListener("mousedown",c),z.addEventListener("touchstart",c),Qt.set(z,c)),a.set(z,ge),r||(r=!0)}}return g(t),{update:function(h){g(h)},destroy:function(){function h(){Qr(e,F.get(e).type),F.delete(e)}me&&!e.closest("[".concat(Jr,"]"))?Ro(e,h):h()}}}var ct,fr={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},ea=(ct={},He(ct,fr.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),He(ct,fr.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),ct),xo="dnd-action-aria-alert",B;function gr(){B||(B=document.createElement("div"),function(){B.id=xo,B.style.position="fixed",B.style.bottom="0",B.style.left="0",B.style.zIndex="-5",B.style.opacity="0",B.style.height="0",B.style.width="0",B.setAttribute("role","alert")}(),document.body.prepend(B),Object.entries(ea).forEach(function(e){var t=Ni(e,2),r=t[0],n=t[1];return document.body.prepend(Vo(r,n))}))}function Po(){return Cr?null:(document.readyState==="complete"?gr():window.addEventListener("DOMContentLoaded",gr),Tt({},fr))}function Mo(){Cr||!B||(Object.keys(ea).forEach(function(e){var t;return(t=document.getElementById(e))===null||t===void 0?void 0:t.remove()}),B.remove(),B=void 0)}function Vo(e,t){var r=document.createElement("div");return r.id=e,r.innerHTML="<p>".concat(t,"</p>"),r.style.display="none",r.style.position="fixed",r.style.zIndex="-5",r}function Ue(e){if(!Cr){B||gr(),B.innerHTML="";var t=document.createTextNode(e);B.appendChild(t),B.style.display="none",B.style.display="inline"}}var Fo="--any--",en={outline:"rgba(255, 255, 102, 0.7) solid 2px"},te=!1,vr,j,Se="",Ae,de,Te="",_t=new WeakSet,tn=new WeakMap,rn=new WeakMap,hr=new Map,G=new Map,ne=new Map,At;function ko(e,t){ne.size===0&&(At=Po(),window.addEventListener("keydown",ta),window.addEventListener("click",ra)),ne.has(t)||ne.set(t,new Set),ne.get(t).has(e)||(ne.get(t).add(e),Gn())}function nn(e,t){j===e&&rt(),ne.get(t).delete(e),$n(),ne.get(t).size===0&&ne.delete(t),ne.size===0&&(window.removeEventListener("keydown",ta),window.removeEventListener("click",ra),At=void 0,Mo())}function ta(e){if(te)switch(e.key){case"Escape":{rt();break}}}function ra(){te&&(_t.has(document.activeElement)||rt())}function Bo(e){if(te){var t=e.currentTarget;if(t!==j){Se=t.getAttribute("aria-label")||"";var r=G.get(j),n=r.items,a=n.find(function(g){return g[H]===de}),i=n.indexOf(a),o=n.splice(i,1)[0],s=G.get(t),d=s.items,c=s.autoAriaDisabled;t.getBoundingClientRect().top<j.getBoundingClientRect().top||t.getBoundingClientRect().left<j.getBoundingClientRect().left?(d.push(o),c||Ue("Moved item ".concat(Te," to the end of the list ").concat(Se))):(d.unshift(o),c||Ue("Moved item ".concat(Te," to the beginning of the list ").concat(Se)));var u=j;Ge(u,n,{trigger:q.DROPPED_INTO_ANOTHER,id:de,source:X.KEYBOARD}),Ge(t,d,{trigger:q.DROPPED_INTO_ZONE,id:de,source:X.KEYBOARD}),j=t}}}function na(){hr.forEach(function(e,t){var r=e.update;return r(G.get(t))})}function rt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;G.get(j).autoAriaDisabled||Ue("Stopped dragging item ".concat(Te)),_t.has(document.activeElement)&&document.activeElement.blur(),e&&Ie(j,G.get(j).items,{trigger:q.DRAG_STOPPED,id:de,source:X.KEYBOARD}),Dt(ne.get(vr),function(t){return G.get(t).dropTargetStyle},function(t){return G.get(t).dropTargetClasses}),Ae=null,de=null,Te="",vr=null,j=null,Se="",te=!1,na()}function Uo(e,t){var r={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:en,dropTargetClasses:[],autoAriaDisabled:!1};function n(u,g,l){u.length<=1||u.splice(l,1,u.splice(g,1,u[l])[0])}function a(u){switch(u.key){case"Enter":case" ":{if((u.target.disabled!==void 0||u.target.href||u.target.isContentEditable)&&!_t.has(u.target))return;u.preventDefault(),u.stopPropagation(),te?rt():i(u);break}case"ArrowDown":case"ArrowRight":{if(!te)return;u.preventDefault(),u.stopPropagation();var g=G.get(e),l=g.items,h=Array.from(e.children),E=h.indexOf(u.currentTarget);E<h.length-1&&(r.autoAriaDisabled||Ue("Moved item ".concat(Te," to position ").concat(E+2," in the list ").concat(Se)),n(l,E,E+1),Ge(e,l,{trigger:q.DROPPED_INTO_ZONE,id:de,source:X.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!te)return;u.preventDefault(),u.stopPropagation();var T=G.get(e),I=T.items,f=Array.from(e.children),p=f.indexOf(u.currentTarget);p>0&&(r.autoAriaDisabled||Ue("Moved item ".concat(Te," to position ").concat(p," in the list ").concat(Se)),n(I,p,p-1),Ge(e,I,{trigger:q.DROPPED_INTO_ZONE,id:de,source:X.KEYBOARD}));break}}}function i(u){s(u.currentTarget),j=e,vr=r.type,te=!0;var g=Array.from(ne.get(r.type)).filter(function(h){return h===j||!G.get(h).dropFromOthersDisabled});if(ht(g,function(h){return G.get(h).dropTargetStyle},function(h){return G.get(h).dropTargetClasses}),!r.autoAriaDisabled){var l="Started dragging item ".concat(Te,". Use the arrow keys to move it within its list ").concat(Se);g.length>1&&(l+=", or tab to another list in order to move the item into it"),Ue(l)}Ie(e,G.get(e).items,{trigger:q.DRAG_STARTED,id:de,source:X.KEYBOARD}),na()}function o(u){te&&u.currentTarget!==Ae&&(u.stopPropagation(),rt(!1),i(u))}function s(u){var g=G.get(e),l=g.items,h=Array.from(e.children),E=h.indexOf(u);Ae=u,Ae.tabIndex=r.zoneItemTabIndex,de=l[E][H],Te=h[E].getAttribute("aria-label")||""}function d(u){var g=u.items,l=g===void 0?[]:g,h=u.type,E=h===void 0?Fo:h,T=u.dragDisabled,I=T===void 0?!1:T,f=u.zoneTabIndex,p=f===void 0?0:f,m=u.zoneItemTabIndex,v=m===void 0?0:m,y=u.dropFromOthersDisabled,b=y===void 0?!1:y,_=u.dropTargetStyle,O=_===void 0?en:_,D=u.dropTargetClasses,w=D===void 0?[]:D,S=u.autoAriaDisabled,C=S===void 0?!1:S;r.items=re(l),r.dragDisabled=I,r.dropFromOthersDisabled=b,r.zoneTabIndex=p,r.zoneItemTabIndex=v,r.dropTargetStyle=O,r.dropTargetClasses=w,r.autoAriaDisabled=C,r.type&&E!==r.type&&nn(e,r.type),r.type=E,ko(e,E),C||(e.setAttribute("aria-disabled",I),e.setAttribute("role","list"),e.setAttribute("aria-describedby",I?At.DND_ZONE_DRAG_DISABLED:At.DND_ZONE_ACTIVE)),G.set(e,r),te?e.tabIndex=e===j||Ae.contains(e)||r.dropFromOthersDisabled||j&&r.type!==G.get(j).type?-1:0:e.tabIndex=r.zoneTabIndex,e.addEventListener("focus",Bo);for(var L=function(M){var N=e.children[M];_t.add(N),N.tabIndex=te?-1:r.zoneItemTabIndex,C||N.setAttribute("role","listitem"),N.removeEventListener("keydown",tn.get(N)),N.removeEventListener("click",rn.get(N)),I||(N.addEventListener("keydown",a),tn.set(N,a),N.addEventListener("click",o),rn.set(N,o)),te&&r.items[M][H]===de&&(Ae=N,Ae.tabIndex=r.zoneItemTabIndex,N.focus())},R=0;R<e.children.length;R++)L(R)}d(t);var c={update:function(g){d(g)},destroy:function(){nn(e,r.type),G.delete(e),hr.delete(e)}};return hr.set(e,c),c}var Ho=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","dropAnimationDisabled"];function er(e,t){if(Go(e))return{update:function(){},destroy:function(){}};an(t);var r=No(e,t),n=Uo(e,t);return{update:function(i){an(i),r.update(i),n.update(i)},destroy:function(){r.destroy(),n.destroy()}}}function Go(e){return!!e.closest("[".concat(ji,'="true"]'))}function an(e){var t=e.items;e.flipDurationMs,e.type,e.dragDisabled,e.morphDisabled,e.dropFromOthersDisabled;var r=e.zoneTabIndex,n=e.zoneItemTabIndex;e.dropTargetStyle;var a=e.dropTargetClasses;e.transformDraggedElement,e.autoAriaDisabled,e.centreDraggedOnCursor,e.dropAnimationDisabled;var i=Li(e,Ho);if(Object.keys(i).length>0&&console.warn("dndzone will ignore unknown options",i),!t)throw new Error("no 'items' key provided to dndzone");var o=t.find(function(s){return!{}.hasOwnProperty.call(s,H)});if(o)throw new Error("missing '".concat(H,"' property for item ").concat(dt(o)));if(a&&!Array.isArray(a))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(Je(a),", ").concat(dt(a)));if(r&&!on(r))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(Je(r),", ").concat(dt(r)));if(n&&!on(n))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(Je(n),", ").concat(dt(n)))}function on(e){return!isNaN(e)&&function(t){return(t|0)===t}(parseFloat(e))}var mt=(e,t=[])=>({parts:(...r)=>{if($o(t))return mt(e,r);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...r)=>mt(e,[...t,...r]),rename:r=>mt(r,t),keys:()=>t,build:()=>[...new Set(t)].reduce((r,n)=>Object.assign(r,{[n]:{selector:[`&[data-scope="${xe(e)}"][data-part="${xe(n)}"]`,`& [data-scope="${xe(e)}"][data-part="${xe(n)}"]`].join(", "),attrs:{"data-scope":xe(e),"data-part":xe(n)}}}),{})}),xe=e=>e.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),$o=e=>e.length===0,Ht=e=>typeof e=="object"&&e!==null,k=e=>e?"":void 0,Wo=e=>e?"true":void 0,zo=1,jo=9,Yo=11,De=e=>Ht(e)&&e.nodeType===zo&&typeof e.nodeName=="string",aa=e=>Ht(e)&&e.nodeType===jo,Zo=e=>Ht(e)&&e===e.window,ia=e=>De(e)?e.localName||"":"#document";function qo(e){return["html","body","#document"].includes(ia(e))}var Ko=e=>Ht(e)&&e.nodeType!==void 0,Ot=e=>Ko(e)&&e.nodeType===Yo&&"host"in e,Xo=e=>De(e)?e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0:!1;function oa(e,t){var n;if(!e||!t||!De(e)||!De(t))return!1;const r=(n=t.getRootNode)==null?void 0:n.call(t);if(e===t||e.contains(t))return!0;if(r&&Ot(r)){let a=t;for(;a;){if(e===a)return!0;a=a.parentNode||a.host}}return!1}function ut(e){return aa(e)?e:Zo(e)?e.document:(e==null?void 0:e.ownerDocument)??document}function Jo(e){return ut(e).documentElement}function we(e){var t;return Ot(e)?we(e.host):aa(e)?e.defaultView??window:De(e)?((t=e.ownerDocument)==null?void 0:t.defaultView)??window:window}function Qo(e){let t=e.activeElement;for(;t!=null&&t.shadowRoot;){const r=t.shadowRoot.activeElement;if(r===t)break;t=r}return t}function es(e){if(ia(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ot(e)&&e.host||Jo(e);return Ot(t)?t.host:t}var tr=new WeakMap;function ts(e){return tr.has(e)||tr.set(e,we(e).getComputedStyle(e)),tr.get(e)}var rs=()=>typeof document<"u";function ns(){const e=navigator.userAgentData;return(e==null?void 0:e.platform)??navigator.platform}var as=e=>rs()&&e.test(ns()),is=()=>as(/^Mac/);function os(e){var t,r,n;return((t=e.composedPath)==null?void 0:t.call(e))??((n=(r=e.nativeEvent)==null?void 0:r.composedPath)==null?void 0:n.call(r))}function sn(e){const t=os(e);return(t==null?void 0:t[0])??e.target}function un(e){return sa(e).isComposing}var ss=e=>e.button===2||is()&&e.ctrlKey&&e.button===0,us={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},ln={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function ls(e,t={}){const{dir:r="ltr",orientation:n="horizontal"}=t;let a=e.key;return a=us[a]??a,r==="rtl"&&n==="horizontal"&&a in ln&&(a=ln[a]),a}function sa(e){return e.nativeEvent??e}var rr=(e,t,r,n)=>{const a=typeof e=="function"?e():e;return a==null||a.addEventListener(t,r,n),()=>{a==null||a.removeEventListener(t,r,n)}};function ds(e,t){const{type:r="HTMLInputElement",property:n="value"}=t,a=we(e)[r].prototype;return Object.getOwnPropertyDescriptor(a,n)??{}}function cs(e){if(e.localName==="input")return"HTMLInputElement";if(e.localName==="textarea")return"HTMLTextAreaElement";if(e.localName==="select")return"HTMLSelectElement"}function pr(e,t,r="value"){var a;if(!e)return;const n=cs(e);n&&((a=ds(e,{type:n,property:r}).set)==null||a.call(e,t)),e.setAttribute(r,t)}function fs(e,t){const{value:r,bubbles:n=!0}=t;if(!e)return;const a=we(e);e instanceof a.HTMLInputElement&&(pr(e,`${r}`),e.dispatchEvent(new a.Event("input",{bubbles:n})))}function gs(e){return vs(e)?e.form:e.closest("form")}function vs(e){return e.matches("textarea, input, select, button")}function hs(e,t){if(!e)return;const r=gs(e),n=a=>{a.defaultPrevented||t()};return r==null||r.addEventListener("reset",n,{passive:!0}),()=>r==null?void 0:r.removeEventListener("reset",n)}function ps(e,t){const r=e==null?void 0:e.closest("fieldset");if(!r)return;t(r.disabled);const n=we(r),a=new n.MutationObserver(()=>t(r.disabled));return a.observe(r,{attributes:!0,attributeFilter:["disabled"]}),()=>a.disconnect()}function ms(e,t){if(!e)return;const{onFieldsetDisabledChange:r,onFormReset:n}=t,a=[hs(e,n),ps(e,r)];return()=>a.forEach(i=>i==null?void 0:i())}var Es="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type";function ua(e){return!e||e.closest("[inert]")?!1:e.matches(Es)&&Xo(e)}function le(e){let t;const r=globalThis.requestAnimationFrame(()=>{t=e()});return()=>{globalThis.cancelAnimationFrame(r),t==null||t()}}function mr(e){const t=es(e);return qo(t)?ut(t).body:De(t)&&Ts(t)?t:mr(t)}var ys=/auto|scroll|overlay|hidden|clip/;function Ts(e){const t=we(e),{overflow:r,overflowX:n,overflowY:a,display:i}=t.getComputedStyle(e);return ys.test(r+a+n)&&!["inline","contents"].includes(i)}function bs(e,t){return Array.from((e==null?void 0:e.querySelectorAll(t))??[])}var la=e=>e.id;function Is(e,t,r=la){return e.find(n=>r(n)===t)}function xr(e,t,r=la){const n=Is(e,t,r);return n?e.indexOf(n):-1}function Ds(e,t,r=!0){let n=xr(e,t);return n=r?(n+1)%e.length:Math.min(n+1,e.length-1),e[n]}function ws(e,t,r=!0){let n=xr(e,t);return n===-1?r?e[e.length-1]:null:(n=r?(n-1+e.length)%e.length:Math.max(0,n-1),e[n])}function _s(e){return e?Array.isArray(e)?e:[e]:[]}var dn=(e,t)=>e.filter((r,n)=>n!==t),cn=e=>Array.from(new Set(e)),fn=e=>(e==null?void 0:e.constructor.name)==="Array",As=(e,t)=>{if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!Gt(e[r],t[r]))return!1;return!0},Gt=(e,t)=>{if(Object.is(e,t))return!0;if(e==null&&t!=null||e!=null&&t==null)return!1;if(typeof(e==null?void 0:e.isEqual)=="function"&&typeof(t==null?void 0:t.isEqual)=="function")return e.isEqual(t);if(typeof e=="function"&&typeof t=="function")return e.toString()===t.toString();if(fn(e)&&fn(t))return As(Array.from(e),Array.from(t));if(typeof e!="object"||typeof t!="object")return!1;const r=Object.keys(t??Object.create(null)),n=r.length;for(let a=0;a<n;a++)if(!Reflect.has(e,r[a]))return!1;for(let a=0;a<n;a++){const i=r[a];if(!Gt(e[i],t[i]))return!1}return!0},Os=e=>typeof e=="string",Me=e=>typeof e=="function",Ss=Function.prototype.toString;Ss.call(Object);var Cs=e=>e(),gn=(...e)=>(...t)=>{e.forEach(function(r){r==null||r(...t)})};function da(e){if(!Rs(e)||e===void 0)return e;const t=Reflect.ownKeys(e).filter(n=>typeof n=="string"),r={};for(const n of t){const a=e[n];a!==void 0&&(r[n]=da(a))}return r}var Rs=e=>e&&typeof e=="object"&&e.constructor===Object;function Er(...e){e.length===1?e[0]:e[1],e.length===2&&e[0]}function Ls(e,t){if(e==null)throw new Error(t)}function Ns(){return{and:(...e)=>function(r){return e.every(n=>r.guard(n))},or:(...e)=>function(r){return e.some(n=>r.guard(n))},not:e=>function(r){return!r.guard(e)}}}function xs(e){const t=()=>{var s;return((s=e.getRootNode)==null?void 0:s.call(e))??document},r=()=>ut(t()),n=()=>r().defaultView??window,a=()=>Qo(t());return{...e,getRootNode:t,getDoc:r,getWin:n,getActiveElement:a,isActiveElement:s=>s===a(),getById:s=>t().getElementById(s)}}function Ps(e){return new Proxy({},{get(t,r){return r==="style"?n=>e({style:n}).style:e}})}var ca=()=>e=>Array.from(new Set(e));const vn={className:"class",defaultChecked:"checked",defaultValue:"value",htmlFor:"for",onBlur:"onfocusout",onChange:"oninput",onFocus:"onfocusin",onDoubleClick:"ondblclick"};function Ms(e){let t="";for(let r in e){const n=e[r];n!=null&&(r.startsWith("--")||(r=r.replace(/[A-Z]/g,a=>`-${a.toLowerCase()}`)),t+=`${r}:${n};`)}return t}const Vs="viewBox,className,preserveAspectRatio,fillRule,clipPath,clipRule,strokeWidth,strokeLinecap,strokeLinejoin,strokeDasharray,strokeDashoffset,strokeMiterlimit".split(",");function Fs(e){return e in vn?vn[e]:Vs.includes(e)?e:e.toLowerCase()}function ks(e,t){if(e==="style"&&typeof t=="object")return Ms(t);if(t!==!1)return t}const Bs=Ps(e=>{const t={};for(const r in e)t[Fs(r)]=ks(r,e[r]);return t});function hn(e){const t=e().defaultValue??e().value,r=e().isEqual??Object.is;let n=Ja(or(t));const a=Ve(()=>e().value!==void 0);let i={current:A(n)},o={current:void 0};Qa(()=>{const c=A(a)?e().value:A(n);i={current:c},o={current:c}});const s=c=>{var l,h;const u=Me(c)?c(i.current):c,g=o.current;e().debug&&console.log(`[bindable > ${e().debug}] setValue`,{next:u,prev:g}),A(a)||Fe(n,or(u)),r(u,g)||(h=(l=e()).onChange)==null||h.call(l,u,g)};function d(){return A(a)?e().value:A(n)}return{initial:t,ref:i,get:d,set(c){(e().sync?Cn:Cs)(()=>s(c))},invoke(c,u){var g,l;(l=(g=e()).onChange)==null||l.call(g,c,u)},hash(c){var u,g;return((g=(u=e()).hash)==null?void 0:g.call(u,c))??String(c)}}}function Us(e){const t=or({current:e});return{get(r){return t.current[r]},set(r,n){t.current[r]=n}}}const nr=e=>typeof e=="function"?e():e,Hs=(e,t)=>{let r=[],n=!0;ei(()=>{if(n){r=e.map(i=>nr(i)),n=!1;return}let a=!1;for(let i=0;i<e.length;i++)if(!Gt(r[i],nr(e[i]))){a=!0;break}a&&(r=e.map(i=>nr(i)),t())})};function ar(e){return Me(e)?e():e}function Gs(e,t){var b,_,O;const r=Ve(()=>{const{id:D,ids:w,getRootNode:S}=ar(t);return xs({id:D,ids:w,getRootNode:S})}),n=Ve(()=>{var D;return((D=e.props)==null?void 0:D.call(e,{props:da(ar(t)),scope:A(r)}))??ar(t)}),a=$s(()=>A(n)),i=(b=e.context)==null?void 0:b.call(e,{prop:a,bindable:hn,get scope(){return A(r)},flush:pn,getContext(){return o},getComputed(){return m}}),o={get(D){return i==null?void 0:i[D].get()},set(D,w){i==null||i[D].set(w)},initial(D){return i==null?void 0:i[D].initial},hash(D){const w=i==null?void 0:i[D].get();return i==null?void 0:i[D].hash(w)}};let s=new Map,d={current:null},c={current:null},u={current:{type:""}};const g=()=>({...u.current,current(){return u.current},previous(){return c.current}}),l=()=>({...v,hasTag(D){var S,C;const w=v.get();return!!((C=(S=e.states[w])==null?void 0:S.tags)!=null&&C.includes(D))},matches(...D){const w=v.get();return D.includes(w)}}),h=Us(((_=e.refs)==null?void 0:_.call(e,{prop:a,context:o}))??{}),E=()=>({state:l(),context:o,event:g(),prop:a,send:y,action:T,guard:I,track:Hs,refs:h,computed:m,flush:pn,scope:A(r),choose:p}),T=D=>{const w=Me(D)?D(E()):D;if(!w)return;const S=w.map(C=>{var R,x;const L=(x=(R=e.implementations)==null?void 0:R.actions)==null?void 0:x[C];return L||Er(`[zag-js] No implementation found for action "${JSON.stringify(C)}"`),L});for(const C of S)C==null||C(E())},I=D=>{var w,S;return Me(D)?D(E()):(S=(w=e.implementations)==null?void 0:w.guards)==null?void 0:S[D](E())},f=D=>{const w=Me(D)?D(E()):D;if(!w)return;const S=w.map(L=>{var x,M;const R=(M=(x=e.implementations)==null?void 0:x.effects)==null?void 0:M[L];return R||Er(`[zag-js] No implementation found for effect "${JSON.stringify(L)}"`),R}),C=[];for(const L of S){const R=L==null?void 0:L(E());R&&C.push(R)}return()=>C.forEach(L=>L==null?void 0:L())},p=D=>_s(D).find(w=>{let S=!w.guard;return Os(w.guard)?S=!!I(w.guard):Me(w.guard)&&(S=w.guard(E())),S}),m=D=>{Ls(e.computed,"[zag-js] No computed object found on machine");const w=e.computed[D];return w({context:o,event:g(),prop:a,refs:h,scope:A(r),computed:m})},v=hn(()=>({defaultValue:e.initialState({prop:a}),onChange(D,w){var C,L,R,x;if(w){const M=s.get(w);M==null||M(),s.delete(w)}w&&T((C=e.states[w])==null?void 0:C.exit),T((L=d.current)==null?void 0:L.actions);const S=f((R=e.states[D])==null?void 0:R.effects);if(S&&s.set(D,S),w==="__init__"){T(e.entry);const M=f(e.effects);M&&s.set("__init__",M)}T((x=e.states[D])==null?void 0:x.entry)}}));Ln(()=>{v.invoke(v.initial,"__init__")}),di(()=>{s.forEach(D=>D==null?void 0:D()),s=new Map,T(e.exit??[])});const y=D=>{var x,M;c.current=u.current,u.current=D;let w=v.get();const S=((x=e.states[w].on)==null?void 0:x[D.type])??((M=e.on)==null?void 0:M[D.type]),C=p(S);if(!C)return;d.current=C;const L=C.target??w,R=L!==w;R?v.set(L):C.reenter&&!R?v.invoke(w,w):T(C.actions??[])};return(O=e.watch)==null||O.call(e,E()),{state:l(),send:y,context:o,prop:a,scope:A(r),refs:h,computed:m,event:g()}}function $s(e){return function(r){return e()[r]}}function pn(e){Cn(()=>e())}function $t(e){var t=Symbol(),r=function(a){return ti(t,a)},n=function(){var a;return(a=ri(t))!==null&&a!==void 0?a:e};return[r,n,t]}var St;St=$t(),St[0];St[1];St[2];Dr(["click"]);var Ct;Ct=$t({parent:"none",value:"",expanded:!1}),Ct[0];Ct[1];Ct[2];var Rt;Rt=$t({api:{},indicatorText:""}),Rt[0];Rt[1];Rt[2];var Lt;Lt=$t({fluid:!1,api:{}}),Lt[0];Lt[1];Lt[2];function Ws(e){if(!e)return;const t=ts(e);return"box-sizing:"+t.boxSizing+";border-left:"+t.borderLeftWidth+" solid red;border-right:"+t.borderRightWidth+" solid red;font-family:"+t.fontFamily+";font-feature-settings:"+t.fontFeatureSettings+";font-kerning:"+t.fontKerning+";font-size:"+t.fontSize+";font-stretch:"+t.fontStretch+";font-style:"+t.fontStyle+";font-variant:"+t.fontVariant+";font-variant-caps:"+t.fontVariantCaps+";font-variant-ligatures:"+t.fontVariantLigatures+";font-variant-numeric:"+t.fontVariantNumeric+";font-weight:"+t.fontWeight+";letter-spacing:"+t.letterSpacing+";margin-left:"+t.marginLeft+";margin-right:"+t.marginRight+";padding-left:"+t.paddingLeft+";padding-right:"+t.paddingRight+";text-indent:"+t.textIndent+";text-transform:"+t.textTransform}function zs(e){var t=e.createElement("div");return t.id="ghost",t.style.cssText="display:inline-block;height:0;overflow:hidden;position:absolute;top:0;visibility:hidden;white-space:nowrap;",e.body.appendChild(t),t}function js(e){if(!e)return;const t=ut(e),r=we(e),n=zs(t),a=Ws(e);a&&(n.style.cssText+=a);function i(){r.requestAnimationFrame(()=>{n.innerHTML=e.value;const o=r.getComputedStyle(n);e==null||e.style.setProperty("width",o.width)})}return i(),e==null||e.addEventListener("input",i),e==null||e.addEventListener("change",i),()=>{t.body.removeChild(n),e==null||e.removeEventListener("input",i),e==null||e.removeEventListener("change",i)}}function Ys(e){const t={each(r){var n;for(let a=0;a<((n=e.frames)==null?void 0:n.length);a+=1){const i=e.frames[a];i&&r(i)}},addEventListener(r,n,a){return t.each(i=>{try{i.document.addEventListener(r,n,a)}catch{}}),()=>{try{t.removeEventListener(r,n,a)}catch{}}},removeEventListener(r,n,a){t.each(i=>{try{i.document.removeEventListener(r,n,a)}catch{}})}};return t}function Zs(e){const t=e.frameElement!=null?e.parent:null;return{addEventListener:(r,n,a)=>{try{t==null||t.addEventListener(r,n,a)}catch{}return()=>{try{t==null||t.removeEventListener(r,n,a)}catch{}}},removeEventListener:(r,n,a)=>{try{t==null||t.removeEventListener(r,n,a)}catch{}}}}var mn="pointerdown.outside",En="focus.outside";function qs(e){for(const t of e)if(De(t)&&ua(t))return!0;return!1}var fa=e=>"clientY"in e;function Ks(e,t){if(!fa(t)||!e)return!1;const r=e.getBoundingClientRect();return r.width===0||r.height===0?!1:r.top<=t.clientY&&t.clientY<=r.top+r.height&&r.left<=t.clientX&&t.clientX<=r.left+r.width}function Xs(e,t){return e.y<=t.y&&t.y<=e.y+e.height&&e.x<=t.x&&t.x<=e.x+e.width}function yn(e,t){if(!t||!fa(e))return!1;const r=t.scrollHeight>t.clientHeight,n=r&&e.clientX>t.offsetLeft+t.clientWidth,a=t.scrollWidth>t.clientWidth,i=a&&e.clientY>t.offsetTop+t.clientHeight,o={x:t.offsetLeft,y:t.offsetTop,width:t.clientWidth+(r?16:0),height:t.clientHeight+(a?16:0)},s={x:e.clientX,y:e.clientY};return Xs(o,s)?n||i:!1}function Js(e,t){const{exclude:r,onFocusOutside:n,onPointerDownOutside:a,onInteractOutside:i,defer:o}=t;if(!e)return;const s=ut(e),d=we(e),c=Ys(d),u=Zs(d);function g(f){const p=sn(f);if(!De(p)||!p.isConnected||oa(e,p)||Ks(e,f))return!1;const m=s.querySelector(`[aria-controls="${e.id}"]`);if(m){const y=mr(m);if(yn(f,y))return!1}const v=mr(e);return yn(f,v)?!1:!(r!=null&&r(p))}const l=new Set;function h(f){function p(){var y;const m=o?le:b=>b(),v=((y=f.composedPath)==null?void 0:y.call(f))??[f.target];m(()=>{if(!(!e||!g(f))){if(a||i){const b=gn(a,i);e.addEventListener(mn,b,{once:!0})}Tn(e,mn,{bubbles:!1,cancelable:!0,detail:{originalEvent:f,contextmenu:ss(f),focusable:qs(v)}})}})}f.pointerType==="touch"?(l.forEach(m=>m()),l.add(rr(s,"click",p,{once:!0})),l.add(u.addEventListener("click",p,{once:!0})),l.add(c.addEventListener("click",p,{once:!0}))):p()}const E=new Set,T=setTimeout(()=>{E.add(rr(s,"pointerdown",h,!0)),E.add(u.addEventListener("pointerdown",h,!0)),E.add(c.addEventListener("pointerdown",h,!0))},0);function I(f){(o?le:m=>m())(()=>{if(!(!e||!g(f))){if(n||i){const m=gn(n,i);e.addEventListener(En,m,{once:!0})}Tn(e,En,{bubbles:!1,cancelable:!0,detail:{originalEvent:f,contextmenu:!1,focusable:ua(sn(f))}})}})}return E.add(rr(s,"focusin",I,!0)),E.add(u.addEventListener("focusin",I,!0)),E.add(c.addEventListener("focusin",I,!0)),()=>{clearTimeout(T),l.forEach(f=>f()),E.forEach(f=>f())}}function Qs(e,t){const{defer:r}=t,n=r?le:i=>i(),a=[];return a.push(n(()=>{const i=typeof e=="function"?e():e;a.push(Js(i,t))})),()=>{a.forEach(i=>i==null?void 0:i())}}function Tn(e,t,r){const n=e.ownerDocument.defaultView||window,a=new n.CustomEvent(t,r);return e.dispatchEvent(a)}var ft="__live-region__";function eu(e={}){const{level:t="polite",document:r=document,root:n,delay:a=0}=e,i=r.defaultView??window,o=n??r.body;function s(c,u){const g=r.getElementById(ft);g==null||g.remove(),u=u??a;const l=r.createElement("span");l.id=ft,l.dataset.liveAnnouncer="true";const h=t!=="assertive"?"status":"alert";l.setAttribute("aria-live",t),l.setAttribute("role",h),Object.assign(l.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}),o.appendChild(l),i.setTimeout(()=>{l.textContent=c},u)}function d(){const c=r.getElementById(ft);c==null||c.remove()}return{announce:s,destroy:d,toJSON(){return ft}}}var tu=mt("tagsInput").parts("root","label","control","input","clearTrigger","item","itemPreview","itemInput","itemText","itemDeleteTrigger"),se=tu.build(),ga=e=>{var t;return((t=e.ids)==null?void 0:t.root)??`tags-input:${e.id}`},yr=e=>{var t;return((t=e.ids)==null?void 0:t.input)??`tags-input:${e.id}:input`},ru=e=>{var t;return((t=e.ids)==null?void 0:t.clearBtn)??`tags-input:${e.id}:clear-btn`},va=e=>{var t;return((t=e.ids)==null?void 0:t.hiddenInput)??`tags-input:${e.id}:hidden-input`},nu=e=>{var t;return((t=e.ids)==null?void 0:t.label)??`tags-input:${e.id}:label`},au=e=>{var t;return((t=e.ids)==null?void 0:t.control)??`tags-input:${e.id}:control`},We=(e,t)=>{var r,n;return((n=(r=e.ids)==null?void 0:r.item)==null?void 0:n.call(r,t))??`tags-input:${e.id}:tag:${t.value}:${t.index}`},iu=(e,t)=>{var r,n;return((n=(r=e.ids)==null?void 0:r.itemDeleteTrigger)==null?void 0:n.call(r,t))??`${We(e,t)}:delete-btn`},ha=(e,t)=>{var r,n;return((n=(r=e.ids)==null?void 0:r.itemInput)==null?void 0:n.call(r,t))??`${We(e,t)}:input`},ou=e=>`${e}:input`,bn=(e,t)=>e.getById(ou(t)),su=(e,t)=>e.getById(ha(e,t)),pa=e=>e.getById(ga(e)),Pe=e=>e.getById(yr(e)),ma=e=>e.getById(va(e)),Ce=e=>bs(pa(e),"[data-part=item-preview]:not([data-disabled])"),uu=e=>Ce(e)[0],lu=e=>Ce(e)[Ce(e).length-1],du=(e,t)=>ws(Ce(e),t,!1),cu=(e,t)=>Ds(Ce(e),t,!1),fu=(e,t)=>Ce(e)[t],qe=(e,t)=>xr(Ce(e),t),gu=e=>{const t=e.closest("[data-part=item-preview]");t&&(t.dataset.deleteIntent="")},vu=e=>{const t=e.closest("[data-part=item-preview]");t&&delete t.dataset.deleteIntent},hu=(e,t)=>{const r=ma(e);r&&fs(r,{value:t})};function pu(e,t){const{state:r,send:n,computed:a,prop:i,scope:o,context:s}=e,d=a("isInteractive"),c=i("disabled"),u=i("readOnly"),g=i("invalid")||a("isOverflowing"),l=i("translations"),h=r.hasTag("focused"),E=r.matches("editing:tag"),T=a("count")===0;function I(f){const p=We(o,f),m=s.get("editedTagId"),v=s.get("highlightedTagId");return{id:p,editing:E&&m===p,highlighted:p===v,disabled:!!(f.disabled||c)}}return{empty:T,inputValue:a("trimmedInputValue"),value:s.get("value"),valueAsString:a("valueAsString"),count:a("count"),atMax:a("isAtMax"),setValue(f){n({type:"SET_VALUE",value:f})},clearValue(f){n(f?{type:"CLEAR_TAG",id:f}:{type:"CLEAR_VALUE"})},addValue(f){n({type:"ADD_TAG",value:f})},setValueAtIndex(f,p){n({type:"SET_VALUE_AT_INDEX",index:f,value:p})},setInputValue(f){n({type:"SET_INPUT_VALUE",value:f})},clearInputValue(){n({type:"SET_INPUT_VALUE",value:""})},focus(){var f;(f=Pe(o))==null||f.focus()},getItemState:I,getRootProps(){return t.element({dir:i("dir"),...se.root.attrs,"data-invalid":k(g),"data-readonly":k(u),"data-disabled":k(c),"data-focus":k(h),"data-empty":k(T),id:ga(o),onPointerDown(){d&&n({type:"POINTER_DOWN"})}})},getLabelProps(){return t.label({...se.label.attrs,"data-disabled":k(c),"data-invalid":k(g),"data-readonly":k(u),id:nu(o),dir:i("dir"),htmlFor:yr(o)})},getControlProps(){return t.element({id:au(o),...se.control.attrs,dir:i("dir"),tabIndex:u?0:void 0,"data-disabled":k(c),"data-readonly":k(u),"data-invalid":k(g),"data-focus":k(h)})},getInputProps(){return t.input({...se.input.attrs,dir:i("dir"),"data-invalid":k(g),"aria-invalid":Wo(g),"data-readonly":k(u),maxLength:i("maxLength"),id:yr(o),defaultValue:s.get("inputValue"),autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",disabled:c||u,onInput(f){const p=sa(f),m=f.currentTarget.value;if(p.inputType==="insertFromPaste"){n({type:"PASTE",value:m});return}if(mu(m,i("delimiter"))){n({type:"DELIMITER_KEY"});return}n({type:"TYPE",value:m,key:p.inputType})},onFocus(){queueMicrotask(()=>{n({type:"FOCUS"})})},onKeyDown(f){if(f.defaultPrevented||un(f))return;const p=f.currentTarget,m=p.getAttribute("role")==="combobox",v=p.ariaExpanded==="true",y={ArrowDown(){n({type:"ARROW_DOWN"})},ArrowLeft(){m&&v||n({type:"ARROW_LEFT"})},ArrowRight(O){s.get("highlightedTagId")&&O.preventDefault(),!(m&&v)&&n({type:"ARROW_RIGHT"})},Escape(O){O.preventDefault(),n({type:"ESCAPE"})},Backspace(){n({type:"BACKSPACE"})},Delete(){n({type:"DELETE"})},Enter(O){m&&v||(n({type:"ENTER"}),O.preventDefault())}},b=ls(f,{dir:i("dir")}),_=y[b];if(_){_(f);return}}})},getHiddenInputProps(){return t.input({type:"text",hidden:!0,name:i("name"),form:i("form"),disabled:c,readOnly:u,required:i("required"),id:va(o),defaultValue:a("valueAsString")})},getItemProps(f){return t.element({...se.item.attrs,dir:i("dir"),"data-value":f.value,"data-disabled":k(c)})},getItemPreviewProps(f){const p=I(f);return t.element({...se.itemPreview.attrs,id:p.id,dir:i("dir"),hidden:p.editing,"data-value":f.value,"data-disabled":k(c),"data-highlighted":k(p.highlighted),onPointerDown(m){!d||p.disabled||(m.preventDefault(),n({type:"POINTER_DOWN_TAG",id:p.id}))},onDoubleClick(){!d||p.disabled||n({type:"DOUBLE_CLICK_TAG",id:p.id})}})},getItemTextProps(f){const p=I(f);return t.element({...se.itemText.attrs,dir:i("dir"),"data-disabled":k(c),"data-highlighted":k(p.highlighted)})},getItemInputProps(f){var m;const p=I(f);return t.input({...se.itemInput.attrs,dir:i("dir"),"aria-label":(m=l==null?void 0:l.tagEdited)==null?void 0:m.call(l,f.value),disabled:c,id:ha(o,f),tabIndex:-1,hidden:!p.editing,defaultValue:p.editing?s.get("editedTagValue"):"",onInput(v){n({type:"TAG_INPUT_TYPE",value:v.currentTarget.value})},onBlur(v){queueMicrotask(()=>{n({type:"TAG_INPUT_BLUR",target:v.relatedTarget,id:p.id})})},onKeyDown(v){if(v.defaultPrevented||un(v))return;const b={Enter(){n({type:"TAG_INPUT_ENTER"})},Escape(){n({type:"TAG_INPUT_ESCAPE"})}}[v.key];b&&(v.preventDefault(),b(v))}})},getItemDeleteTriggerProps(f){var m;const p=We(o,f);return t.button({...se.itemDeleteTrigger.attrs,dir:i("dir"),id:iu(o,f),type:"button",disabled:c,"aria-label":(m=l==null?void 0:l.deleteTagTriggerLabel)==null?void 0:m.call(l,f.value),tabIndex:-1,onPointerDown(v){d||v.preventDefault()},onPointerMove(v){d&&gu(v.currentTarget)},onPointerLeave(v){d&&vu(v.currentTarget)},onClick(){d&&n({type:"CLICK_DELETE_TAG",id:p})}})},getClearTriggerProps(){return t.button({...se.clearTrigger.attrs,dir:i("dir"),id:ru(o),type:"button","data-readonly":k(u),disabled:c,"aria-label":l==null?void 0:l.clearTriggerLabel,hidden:T,onClick(){d&&n({type:"CLEAR_VALUE"})}})}}}function mu(e,t){return t?typeof t=="string"?e.endsWith(t):new RegExp(`${t.source}$`).test(e):!1}var{and:Ke,not:gt,or:Eu}=Ns(),yu={props({props:e}){return{dir:"ltr",addOnPaste:!1,editable:!0,validate:()=>!0,delimiter:",",defaultValue:[],defaultInputValue:"",max:1/0,...e,translations:{clearTriggerLabel:"Clear all tags",deleteTagTriggerLabel:t=>`Delete tag ${t}`,tagAdded:t=>`Added tag ${t}`,tagsPasted:t=>`Pasted ${t.length} tags`,tagEdited:t=>`Editing tag ${t}. Press enter to save or escape to cancel.`,tagUpdated:t=>`Tag update to ${t}`,tagDeleted:t=>`Tag ${t} deleted`,tagSelected:t=>`Tag ${t} selected. Press enter to edit, delete or backspace to remove.`,...e.translations}}},initialState({prop:e}){return e("autoFocus")?"focused:input":"idle"},refs(){return{liveRegion:null,log:{current:null,prev:null}}},context({bindable:e,prop:t}){return{value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),isEqual:Gt,hash(r){return r.join(", ")},onChange(r){var n;(n=t("onValueChange"))==null||n({value:r})}})),inputValue:e(()=>({sync:!0,defaultValue:t("defaultInputValue"),value:t("inputValue"),onChange(r){var n;(n=t("onInputValueChange"))==null||n({inputValue:r})}})),fieldsetDisabled:e(()=>({defaultValue:!1})),editedTagValue:e(()=>({defaultValue:""})),editedTagId:e(()=>({defaultValue:null})),editedTagIndex:e(()=>({defaultValue:null,sync:!0})),highlightedTagId:e(()=>({defaultValue:null,sync:!0,onChange(r){var n;(n=t("onHighlightChange"))==null||n({highlightedValue:r})}}))}},computed:{count:({context:e})=>e.get("value").length,valueAsString:({context:e})=>e.hash("value"),trimmedInputValue:({context:e})=>e.get("inputValue").trim(),isDisabled:({prop:e})=>!!e("disabled"),isInteractive:({prop:e})=>!(e("readOnly")||e("disabled")),isAtMax:({context:e,prop:t})=>e.get("value").length===t("max"),isOverflowing:({context:e,prop:t})=>e.get("value").length>t("max")},watch({track:e,context:t,action:r,computed:n,refs:a}){e([()=>t.get("editedTagValue")],()=>{r(["syncEditedTagInputValue"])}),e([()=>t.get("inputValue")],()=>{r(["syncInputValue"])}),e([()=>t.get("highlightedTagId")],()=>{r(["logHighlightedTag"])}),e([()=>n("isOverflowing")],()=>{r(["invokeOnInvalid"])}),e([()=>JSON.stringify(a.get("log"))],()=>{r(["announceLog"])})},effects:["trackLiveRegion","trackFormControlState"],exit:["clearLog"],on:{DOUBLE_CLICK_TAG:{guard:"isTagEditable",target:"editing:tag",actions:["setEditedId"]},POINTER_DOWN_TAG:{target:"navigating:tag",actions:["highlightTag","focusInput"]},CLICK_DELETE_TAG:{target:"focused:input",actions:["deleteTag"]},SET_INPUT_VALUE:{actions:["setInputValue"]},SET_VALUE:{actions:["setValue"]},CLEAR_TAG:{actions:["deleteTag"]},SET_VALUE_AT_INDEX:{actions:["setValueAtIndex"]},CLEAR_VALUE:{actions:["clearTags","clearInputValue","focusInput"]},ADD_TAG:{actions:["addTag"]},INSERT_TAG:{guard:Ke(Eu(gt("isAtMax"),"allowOverflow"),gt("isInputValueEmpty")),actions:["addTag","clearInputValue"]},EXTERNAL_BLUR:[{guard:"addOnBlur",actions:["raiseInsertTagEvent"]},{guard:"clearOnBlur",actions:["clearInputValue"]}]},states:{idle:{on:{FOCUS:{target:"focused:input"},POINTER_DOWN:{guard:gt("hasHighlightedTag"),target:"focused:input"}}},"focused:input":{tags:["focused"],entry:["focusInput","clearHighlightedId"],effects:["trackInteractOutside"],on:{TYPE:{actions:["setInputValue"]},BLUR:[{guard:"addOnBlur",target:"idle",actions:["raiseInsertTagEvent"]},{guard:"clearOnBlur",target:"idle",actions:["clearInputValue"]},{target:"idle"}],ENTER:{actions:["raiseInsertTagEvent"]},DELIMITER_KEY:{actions:["raiseInsertTagEvent"]},ARROW_LEFT:{guard:Ke("hasTags","isInputCaretAtStart"),target:"navigating:tag",actions:["highlightLastTag"]},BACKSPACE:{target:"navigating:tag",guard:Ke("hasTags","isInputCaretAtStart"),actions:["highlightLastTag"]},DELETE:{guard:"hasHighlightedTag",actions:["deleteHighlightedTag","highlightTagAtIndex"]},PASTE:[{guard:"addOnPaste",actions:["setInputValue","addTagFromPaste"]},{actions:["setInputValue"]}]}},"navigating:tag":{tags:["focused"],effects:["trackInteractOutside"],on:{ARROW_RIGHT:[{guard:Ke("hasTags","isInputCaretAtStart",gt("isLastTagHighlighted")),actions:["highlightNextTag"]},{target:"focused:input"}],ARROW_LEFT:{actions:["highlightPrevTag"]},BLUR:{target:"idle",actions:["clearHighlightedId"]},ENTER:{guard:Ke("isTagEditable","hasHighlightedTag"),target:"editing:tag",actions:["setEditedId","focusEditedTagInput"]},ARROW_DOWN:{target:"focused:input"},ESCAPE:{target:"focused:input"},TYPE:{target:"focused:input",actions:["setInputValue"]},BACKSPACE:[{guard:"isFirstTagHighlighted",actions:["deleteHighlightedTag","highlightFirstTag"]},{guard:"hasHighlightedTag",actions:["deleteHighlightedTag","highlightPrevTag"]},{actions:["highlightLastTag"]}],DELETE:{target:"focused:input",actions:["deleteHighlightedTag","highlightTagAtIndex"]},PASTE:[{guard:"addOnPaste",target:"focused:input",actions:["setInputValue","addTagFromPaste"]},{target:"focused:input",actions:["setInputValue"]}]}},"editing:tag":{tags:["editing","focused"],entry:["focusEditedTagInput"],effects:["autoResize"],on:{TAG_INPUT_TYPE:{actions:["setEditedTagValue"]},TAG_INPUT_ESCAPE:{target:"navigating:tag",actions:["clearEditedTagValue","focusInput","clearEditedId","highlightTagAtIndex"]},TAG_INPUT_BLUR:[{guard:"isInputRelatedTarget",target:"navigating:tag",actions:["clearEditedTagValue","clearHighlightedId","clearEditedId"]},{target:"idle",actions:["clearEditedTagValue","clearHighlightedId","clearEditedId","raiseExternalBlurEvent"]}],TAG_INPUT_ENTER:[{guard:"isEditedTagEmpty",target:"navigating:tag",actions:["deleteHighlightedTag","focusInput","clearEditedId","highlightTagAtIndex"]},{target:"navigating:tag",actions:["submitEditedTagValue","focusInput","clearEditedId","highlightTagAtIndex"]}]}}},implementations:{guards:{isInputRelatedTarget:({scope:e,event:t})=>t.relatedTarget===Pe(e),isAtMax:({computed:e})=>e("isAtMax"),hasHighlightedTag:({context:e})=>e.get("highlightedTagId")!=null,isFirstTagHighlighted:({context:e,scope:t})=>{const r=e.get("value");return We(t,{value:r[0],index:0})===e.get("highlightedTagId")},isEditedTagEmpty:({context:e})=>e.get("editedTagValue").trim()==="",isLastTagHighlighted:({context:e,scope:t})=>{const r=e.get("value"),n=r.length-1;return We(t,{value:r[n],index:n})===e.get("highlightedTagId")},isInputValueEmpty:({context:e})=>e.get("inputValue").trim().length===0,hasTags:({context:e})=>e.get("value").length>0,allowOverflow:({prop:e})=>!!e("allowOverflow"),autoFocus:({prop:e})=>!!e("autoFocus"),addOnBlur:({prop:e})=>e("blurBehavior")==="add",clearOnBlur:({prop:e})=>e("blurBehavior")==="clear",addOnPaste:({prop:e})=>!!e("addOnPaste"),isTagEditable:({prop:e})=>!!e("editable"),isInputCaretAtStart({scope:e}){const t=Pe(e);if(!t)return!1;try{return t.selectionStart===0&&t.selectionEnd===0}catch{return t.value===""}}},effects:{trackInteractOutside({scope:e,prop:t,send:r}){return Qs(Pe(e),{exclude(n){return oa(pa(e),n)},onFocusOutside:t("onFocusOutside"),onPointerDownOutside:t("onPointerDownOutside"),onInteractOutside(n){var a;(a=t("onInteractOutside"))==null||a(n),!n.defaultPrevented&&r({type:"BLUR",src:"interact-outside"})}})},trackFormControlState({context:e,send:t,scope:r}){return ms(ma(r),{onFieldsetDisabledChange(n){e.set("fieldsetDisabled",n)},onFormReset(){const n=e.initial("value");t({type:"SET_VALUE",value:n,src:"form-reset"})}})},autoResize({context:e,prop:t,scope:r}){let n;const a=le(()=>{const i=e.get("editedTagValue"),o=e.get("editedTagIndex");if(!i||o==null||!t("editable"))return;const s=su(r,{value:i,index:o});n=js(s)});return()=>{a(),n==null||n()}},trackLiveRegion({scope:e,refs:t}){const r=eu({level:"assertive",document:e.getDoc()});return t.set("liveRegion",r),()=>r.destroy()}},actions:{raiseInsertTagEvent({send:e}){e({type:"INSERT_TAG"})},raiseExternalBlurEvent({send:e,event:t}){e({type:"EXTERNAL_BLUR",id:t.id})},dispatchChangeEvent({scope:e,computed:t}){hu(e,t("valueAsString"))},highlightNextTag({context:e,scope:t}){const r=e.get("highlightedTagId");if(r==null)return;const n=cu(t,r);e.set("highlightedTagId",(n==null?void 0:n.id)??null)},highlightFirstTag({context:e,scope:t}){le(()=>{const r=uu(t);e.set("highlightedTagId",(r==null?void 0:r.id)??null)})},highlightLastTag({context:e,scope:t}){const r=lu(t);e.set("highlightedTagId",(r==null?void 0:r.id)??null)},highlightPrevTag({context:e,scope:t}){const r=e.get("highlightedTagId");if(r==null)return;const n=du(t,r);e.set("highlightedTagId",(n==null?void 0:n.id)??null)},highlightTag({context:e,event:t}){e.set("highlightedTagId",t.id)},highlightTagAtIndex({context:e,scope:t}){le(()=>{const r=e.get("editedTagIndex");if(r==null)return;const n=fu(t,r);n!=null&&(e.set("highlightedTagId",n.id),e.set("editedTagIndex",null))})},deleteTag({context:e,scope:t,event:r,refs:n}){const a=qe(t,r.id),i=e.get("value")[a],o=n.get("log");n.set("log",{prev:o.current,current:{type:"delete",value:i}}),e.set("value",s=>dn(s,a))},deleteHighlightedTag({context:e,scope:t,refs:r}){const n=e.get("highlightedTagId");if(n==null)return;const a=qe(t,n);e.set("editedTagIndex",a);const i=e.get("value"),o=r.get("log");r.set("log",{prev:o.current,current:{type:"delete",value:i[a]}}),e.set("value",s=>dn(s,a))},setEditedId({context:e,event:t,scope:r}){const n=e.get("highlightedTagId"),a=t.id??n;e.set("editedTagId",a);const i=qe(r,a),o=e.get("value")[i];e.set("editedTagIndex",i),e.set("editedTagValue",o)},clearEditedId({context:e}){e.set("editedTagId",null)},clearEditedTagValue({context:e}){e.set("editedTagValue","")},setEditedTagValue({context:e,event:t}){e.set("editedTagValue",t.value)},submitEditedTagValue({context:e,scope:t,refs:r}){const n=e.get("editedTagId");if(!n)return;const a=qe(t,n);e.set("value",o=>{const s=o.slice();return s[a]=e.get("editedTagValue"),s});const i=r.get("log");r.set("log",{prev:i.current,current:{type:"update",value:e.get("editedTagValue")}})},setValueAtIndex({context:e,event:t,refs:r}){if(t.value){e.set("value",a=>{const i=a.slice();return i[t.index]=t.value,i});const n=r.get("log");r.set("log",{prev:n.current,current:{type:"update",value:t.value}})}else Er("You need to provide a value for the tag")},focusEditedTagInput({context:e,scope:t}){le(()=>{const r=e.get("editedTagId");if(!r)return;const n=bn(t,r);n==null||n.select()})},setInputValue({context:e,event:t}){e.set("inputValue",t.value)},clearHighlightedId({context:e}){e.set("highlightedTagId",null)},focusInput({scope:e}){le(()=>{var t;(t=Pe(e))==null||t.focus()})},clearInputValue({context:e}){le(()=>{e.set("inputValue","")})},syncInputValue({context:e,scope:t}){const r=Pe(t);r&&pr(r,e.get("inputValue"))},syncEditedTagInputValue({context:e,event:t,scope:r}){const n=e.get("editedTagId")||e.get("highlightedTagId")||t.id;if(n==null)return;const a=bn(r,n);a&&pr(a,e.get("editedTagValue"))},addTag({context:e,event:t,computed:r,prop:n,refs:a}){var d,c;const i=t.value??r("trimmedInputValue"),o=e.get("value");if((d=n("validate"))==null?void 0:d({inputValue:i,value:Array.from(o)})){const u=cn(o.concat(i));e.set("value",u);const g=a.get("log");a.set("log",{prev:g.current,current:{type:"add",value:i}})}else(c=n("onValueInvalid"))==null||c({reason:"invalidTag"})},addTagFromPaste({context:e,computed:t,prop:r,refs:n}){le(()=>{var s,d;const a=t("trimmedInputValue"),i=e.get("value");if((s=r("validate"))==null?void 0:s({inputValue:a,value:Array.from(i)})){const c=r("delimiter"),u=c?a.split(c).map(h=>h.trim()):[a],g=cn(i.concat(...u));e.set("value",g);const l=n.get("log");n.set("log",{prev:l.current,current:{type:"paste",values:u}})}else(d=r("onValueInvalid"))==null||d({reason:"invalidTag"});e.set("inputValue","")})},clearTags({context:e,refs:t}){e.set("value",[]);const r=t.get("log");t.set("log",{prev:r.current,current:{type:"clear"}})},setValue({context:e,event:t}){e.set("value",t.value)},invokeOnInvalid({prop:e,computed:t}){var r;t("isOverflowing")&&((r=e("onValueInvalid"))==null||r({reason:"rangeOverflow"}))},clearLog({refs:e}){const t=e.get("log");t.prev=t.current=null},logHighlightedTag({refs:e,context:t,scope:r}){const n=t.get("highlightedTagId"),a=e.get("log");if(n==null||!a.current)return;const i=qe(r,n),o=t.get("value")[i],s=e.get("log");e.set("log",{prev:s.current,current:{type:"select",value:o}})},announceLog({refs:e,prop:t}){const r=e.get("liveRegion"),n=t("translations"),a=e.get("log");if(!a.current||r==null)return;const i=r,{current:o,prev:s}=a;let d;switch(o.type){case"add":d=n.tagAdded(o.value);break;case"delete":d=n.tagDeleted(o.value);break;case"update":d=n.tagUpdated(o.value);break;case"paste":d=n.tagsPasted(o.values);break;case"select":d=n.tagSelected(o.value),(s==null?void 0:s.type)==="delete"?d=`${n.tagDeleted(s.value)}. ${d}`:(s==null?void 0:s.type)==="update"&&(d=`${n.tagUpdated(s.value)}. ${d}`);break}d&&i.announce(d)}}}};ca()(["addOnPaste","allowOverflow","autoFocus","blurBehavior","delimiter","dir","disabled","editable","form","getRootNode","id","ids","inputValue","invalid","max","maxLength","name","onFocusOutside","onHighlightChange","onInputValueChange","onInteractOutside","onPointerDownOutside","onValueChange","onValueInvalid","required","readOnly","translations","validate","value","defaultValue","defaultInputValue"]);ca()(["index","disabled","value"]);var Tu=ie("<strong>&times;</strong>"),bu=ie("<div><div><span> </span> <button><!></button></div> <input></div>"),Iu=ie('<div data-testid="tags-list"></div>'),Du=ie("<div><input> <!></div>");function wu(e,t){const r=Da();nt(t,!0);const n=P(t,"placeholder",3,""),a=P(t,"base",3,"grid input !h-auto"),i=P(t,"gap",3,"gap-2"),o=P(t,"padding",3,"p-3"),s=P(t,"classes",3,""),d=P(t,"inputBase",3,"input-ghost"),c=P(t,"inputClasses",3,""),u=P(t,"tagListBase",3,"flex gap-2"),g=P(t,"tagListClasses",3,""),l=P(t,"tagBase",3,"chip"),h=P(t,"tagBackground",3,"preset-filled"),E=P(t,"tagClasses",3,""),T=P(t,"inputEditBase",3,"chip-input -translate-y-0.25"),I=P(t,"tagEditBackground",3,"preset-outlined-surface-200-800"),f=P(t,"buttonDeleteBase",3,""),p=P(t,"buttonDeleteClasses",3,""),m=P(t,"stateDisabled",3,"disabled"),v=fi(t,["$$slots","$$events","$$legacy","placeholder","base","gap","padding","classes","inputBase","inputClasses","tagListBase","tagListClasses","tagBase","tagBackground","tagClasses","inputEditBase","tagEditBackground","inputEditClasses","buttonDeleteBase","buttonDeleteClasses","stateDisabled","buttonDelete"]),y=Gs(yu,()=>({id:r,...v})),b=Ve(()=>pu(y,Bs)),_=Ve(()=>y.prop("disabled")?m():"");var O=Du();let D;var w=Z(O);Et(w);let S;var C=ce(w,2);{var L=R=>{var x=Iu();_r(x,22,()=>A(b).value,M=>M,(M,N,oe)=>{var fe=bu();const lt=Ve(()=>A(b).getItemState({index:A(oe),value:N}));let ge;var z=Z(fe);let J;var Re=Z(z),Ea=Z(Re,!0);U(Re);var Wt=ce(Re,2);let Pr;var ya=Z(Wt);{var Ta=he=>{var Le=wa(),zt=Ir(Le);gi(zt,()=>t.buttonDelete),ee(he,Le)},ba=he=>{var Le=Tu();ee(he,Le)};sr(ya,he=>{t.buttonDelete?he(Ta):he(ba,!1)})}U(Wt),U(z);var Mr=ce(z,2);Et(Mr);let Vr;U(fe),ke((he,Le,zt,Ia)=>{ge=Ne(fe,ge,{...he,"data-testid":"tags-tag"}),J=Ne(z,J,{...Le,class:`${l()??""} ${h()??""} ${E()??""}`,"data-testid":"tag-display",[Oe]:{display:A(lt).editing?"none":""}}),wr(Ea,N),Pr=Ne(Wt,Pr,{...zt,class:`${f()??""} ${p()??""}`,"data-testid":"tag-delete"}),Vr=Ne(Mr,Vr,{...Ia,class:`${T()??""} ${I()??""} ${t.inputEditClasses??""}`,"data-testid":"tags-input-edit",[Oe]:{display:A(lt).editing?"":"none"}})},[()=>A(b).getItemProps({value:N,index:A(oe)}),()=>A(b).getItemPreviewProps({index:A(oe),value:N}),()=>A(b).getItemDeleteTriggerProps({index:A(oe),value:N}),()=>A(b).getItemInputProps({index:A(oe),value:N})]),ee(M,fe)}),U(x),ke(()=>Ar(x,1,`${u()??""} ${g()??""}`)),ee(R,x)};sr(C,R=>{A(b).value.length>0&&R(L)})}U(O),ke((R,x)=>{D=Ne(O,D,{...R,class:`${a()??""} ${o()??""} ${i()??""} ${A(_)??""} ${s()??""}`,"data-testid":"tags"}),S=Ne(w,S,{...x,placeholder:n(),class:`${d()??""} ${c()??""}`,"data-testid":"tags-input-add"})},[()=>A(b).getRootProps(),()=>A(b).getInputProps()]),ee(e,O),at()}Dr(["click"]);var _u=ie('<input class="input" type="text">'),Au=ie('<div class="flex flex-row gap-2 justify-end mb-2"><a title="Click to rename character" class="cursor-text w-full text-lg"><!></a> <div class="input-group grid-cols-[40px_140px] h-[42px]"><div class="ig-cell preset-tonal"><span class="material-symbols-outlined text-error-700">favorite</span></div> <input class="ig-input" type="text" placeholder="0"></div> <button type="button" class="btn-icon bg-surface-600-400 text-surface-contrast-600-400 w-[60px]"><span class="material-symbols-outlined">skull</span></button></div> <!>',1);function Ou(e,t){nt(t,!1);const r=ci();let n=P(t,"name",12,"Character"),a=P(t,"health",12,"0"),i=P(t,"conditions",28,()=>[]);function o(){r("delete")}function s(){r("update")}let d=Rn(!1);function c(y){y.code=="Enter"&&(Fe(d,!1),s())}function u(y){if(y.code=="Enter"){let b=0;if(a().includes("+"))a().split("+").forEach(_=>{b+=parseInt(_)});else if(a().includes("-"))a().split("-").forEach(_=>{b==0?b=parseInt(_):b-=parseInt(_)});else return;a(b.toString()),s()}}Nt();var g=Au(),l=Ir(g),h=Z(l),E=Z(h);{var T=y=>{var b=_u();Et(b),jr(b,n),ye("keydown",b,c),ee(y,b)},I=y=>{var b=_a();ke(()=>wr(b,n())),ee(y,b)};sr(E,y=>{A(d)?y(T):y(I,!1)})}U(h);var f=ce(h,2),p=ce(Z(f),2);Et(p),U(f);var m=ce(f,2);U(l);var v=ce(l,2);wu(v,{get value(){return i()},onValueChange:y=>{i(y.value),s()},tagBackground:"preset-filled-primary-500",name:"chips",placeholder:"Add conditions..."}),ye("click",h,()=>Fe(d,!0)),ye("keydown",p,u),jr(p,a),ye("click",m,o),ee(e,g),at()}var Su=ie('<div class="card preset-filled-surface-50-950 border-[1px] border-surface-100-900 p-2 m-1 w-full rounded-sm"><!></div>'),Cu=ie('<div class="wrapper svelte-1u9gtwq"><h4 class="h4 flex flex-row justify-center mb-1"> </h4> <div class="column-content flex flex-col items-center svelte-1u9gtwq"></div></div> <div class="flex flex-row justify-center mt-1"><button class="btn preset-filled-primary-500">New Character</button></div>',1);function Ru(e,t){nt(t,!1);const r=150;let n=P(t,"name",8),a=P(t,"items",12),i=P(t,"onDrop",8);function o(f){const p=a().filter(m=>m.id!==f);a(p),i()(p)}function s(){const p={id:Date.now(),name:"Character",health:"0",conditions:[]},m=[...a(),p];a(m),i()(m)}function d(f){console.warn("got consider",n()),a(f.detail.items)}function c(f){i()(f.detail.items)}Nt();var u=Cu(),g=Ir(u),l=Z(g),h=Z(l,!0);U(l);var E=ce(l,2);_r(E,13,a,f=>f.id,(f,p,m)=>{var v=Su(),y=Z(v);Ou(y,{get name(){return A(p).name},set name(b){A(p).name=b,Zt(()=>a())},get health(){return A(p).health},set health(b){A(p).health=b,Zt(()=>a())},get conditions(){return A(p).conditions},set conditions(b){A(p).conditions=b,Zt(()=>a())},$$events:{delete:()=>o(A(p).id),update:()=>i()([...a()])},$$legacy:!0}),U(v),Bn(v,()=>Hn,()=>({duration:r})),ee(f,v)}),U(E),mi(E,(f,p)=>er==null?void 0:er(f,p),()=>({items:a(),flipDurationMs:r,zoneTabIndex:-1})),ir(()=>ye("consider",E,d)),ir(()=>ye("finalize",E,c)),U(g);var T=ce(g,2),I=Z(T);U(T),ke(()=>wr(h,n())),ye("click",I,s),ee(e,u),at()}var Lu=ie("<div><!></div>"),Nu=ie('<section class="board flex flex-row gap-4 svelte-1jat542"></section>');function xu(e,t){nt(t,!1);const r=300;let n=P(t,"columns",12),a=P(t,"onFinalUpdate",8);function i(s,d){n(n()[s].items=d,!0),a()([...n()])}Nt();var o=Nu();_r(o,15,n,s=>s.id,(s,d,c)=>{var u=Lu(),g=Z(u);Ru(g,{get name(){return A(d).name},get items(){return A(d).items},onDrop:l=>i(A(c),l)}),U(u),ke(()=>Ar(u,1,`card ${(A(d).primary?"bg-surface-200-800":"bg-surface-100-900")??""} border-[1px] border-tertiary-200-800 w-full max-w-xl p-2 px-4`)),Bn(u,()=>Hn,()=>({duration:r})),ee(s,u)}),U(o),ee(e,o),at()}var Pu=ie('<div class="flex flex-row p-1"><!> <div class="sidebar mt-2 mr-2"><button class="btn preset-filled-error-500">Reset</button></div></div>');function Gu(e,t){nt(t,!1);const r=[{id:"c1",name:"Character Pool",primary:!1,items:[{id:1,name:"Monster 1",health:0,conditions:[]},{id:2,name:"Monster 2",health:0,conditions:[]},{id:3,name:"Monster 3",health:0,conditions:[]}]},{id:"c2",name:"Current Combat",primary:!0,items:[{id:10,name:"Elie",health:0,conditions:[]},{id:11,name:"Pelias",health:0,conditions:[]},{id:12,name:"Lou",health:0,conditions:[]},{id:13,name:"Mattias",health:0,conditions:[]}]}];let n=Rn([...r]);Ln(()=>{try{const u=localStorage.getItem("initiativeTrackerData");u&&(Fe(n,JSON.parse(u)),console.log("Loaded saved character data"))}catch(u){console.error("Error loading saved data:",u),Fe(n,[...r])}});function a(u){Fe(n,u);try{localStorage.setItem("initiativeTrackerData",JSON.stringify(A(n))),console.log("Saved character data")}catch(g){console.error("Error saving data:",g)}}function i(){const u=[...r];a(u),console.log("Reset to default data")}Nt();var o=Pu(),s=Z(o);xu(s,{get columns(){return A(n)},onFinalUpdate:a});var d=ce(s,2),c=Z(d);U(d),U(o),ye("click",c,i),ee(e,o),at()}export{Gu as component};
